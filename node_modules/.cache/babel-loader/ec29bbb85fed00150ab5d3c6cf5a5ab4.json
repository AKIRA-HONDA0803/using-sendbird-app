{"ast":null,"code":"import { b as _slicedToArray, c as LocalizationContext, d as __spreadArray, _ as __assign, w as withSendbirdContext, u as uuidv4, e as _toConsumableArray } from './LocalizationContext-dfe8b78b.js';\nimport React__default, { useRef, useState, useContext, useEffect, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { M as Modal, T as Type, a as TextButton, C as ContextMenu, I as IconButton, b as MenuItems, c as MenuItem, B as Button, d as ButtonTypes, e as ButtonSizes, U as UserProfileContext, f as ConnectedUserProfile, g as getSdk, h as UserProfileProvider } from './index-cb0d7936.js';\nimport { I as InviteMembers$1, B as Badge, c as createDefaultUserListQuery, L as LeaveChannel } from './LeaveChannel-42fd86b9.js';\nimport { A as Avatar, L as Label, a as LabelTypography, b as LabelColors, I as Icon, c as IconTypes, d as IconColors, P as PlaceHolder, f as PlaceHolderTypes } from './index-fe1a6d27.js';\nimport { I as InputLabel, a as Input, n as noop, U as UserListItem$2, M as MutedAvatarOverlay } from './index-1fe82074.js';\nimport { C as ChannelAvatar } from './index-db1485c0.js';\nimport { A as AccordionGroup, a as Accordion } from './index-d85ca28f.js';\nimport 'react-dom';\nimport './utils-7b22e0fc.js';\n\nvar EditDetails = function EditDetails(props) {\n  var _onSubmit = props.onSubmit,\n      onCancel = props.onCancel,\n      channel = props.channel,\n      userId = props.userId,\n      theme = props.theme;\n  var inputRef = useRef(null);\n  var formRef = useRef(null);\n  var hiddenInputRef = useRef(null);\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      currentImg = _useState2[0],\n      setCurrentImg = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      newFile = _useState4[0],\n      setNewFile = _useState4[1];\n\n  var _useContext = useContext(LocalizationContext),\n      stringSet = _useContext.stringSet;\n\n  var title = channel.name;\n  return /*#__PURE__*/React__default.createElement(Modal, {\n    titleText: stringSet.MODAL__CHANNEL_INFORMATION__TITLE,\n    submitText: stringSet.BUTTON__SAVE,\n    onCancel: onCancel,\n    onSubmit: function onSubmit() {\n      if (title !== '' && !inputRef.current.value) {\n        if (formRef.current.reportValidity) {\n          // might not work in explorer\n          formRef.current.reportValidity();\n        }\n\n        return;\n      }\n\n      _onSubmit(newFile, inputRef.current.value);\n\n      onCancel();\n    },\n    type: Type.PRIMARY\n  }, /*#__PURE__*/React__default.createElement(\"form\", {\n    className: \"channel-profile-form\",\n    ref: formRef,\n    onSubmit: function onSubmit(e) {\n      e.preventDefault();\n    }\n  }, /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"channel-profile-form__img-section\"\n  }, /*#__PURE__*/React__default.createElement(InputLabel, null, stringSet.MODAL__CHANNEL_INFORMATION__CHANNEL_IMAGE), /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"channel-profile-form__avatar\"\n  }, currentImg ? /*#__PURE__*/React__default.createElement(Avatar, {\n    height: \"80px\",\n    width: \"80px\",\n    src: currentImg\n  }) : /*#__PURE__*/React__default.createElement(ChannelAvatar, {\n    height: 80,\n    width: 80,\n    channel: channel,\n    userId: userId,\n    theme: theme\n  })), /*#__PURE__*/React__default.createElement(\"input\", {\n    ref: hiddenInputRef,\n    type: \"file\",\n    accept: \"image/gif, image/jpeg, image/png\",\n    style: {\n      display: 'none'\n    },\n    onChange: function onChange(e) {\n      setCurrentImg(URL.createObjectURL(e.target.files[0]));\n      setNewFile(e.target.files[0]);\n      hiddenInputRef.current.value = '';\n    }\n  }), /*#__PURE__*/React__default.createElement(TextButton, {\n    className: \"channel-profile-form__avatar-button\",\n    onClick: function onClick() {\n      return hiddenInputRef.current.click();\n    },\n    notUnderline: true\n  }, /*#__PURE__*/React__default.createElement(Label, {\n    type: LabelTypography.BUTTON_1,\n    color: LabelColors.PRIMARY\n  }, stringSet.MODAL__CHANNEL_INFORMATION__UPLOAD))), /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"channel-profile-form__name-section\"\n  }, /*#__PURE__*/React__default.createElement(InputLabel, null, stringSet.MODAL__CHANNEL_INFORMATION__CHANNEL_NAME), /*#__PURE__*/React__default.createElement(Input, {\n    required: title !== '',\n    name: \"channel-profile-form__name\",\n    ref: inputRef,\n    value: title,\n    placeHolder: stringSet.MODAL__CHANNEL_INFORMATION__INPUT__PLACE_HOLDER\n  }))));\n};\n\nEditDetails.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n  onCancel: PropTypes.func.isRequired,\n  channel: PropTypes.shape({\n    name: PropTypes.string\n  }).isRequired,\n  userId: PropTypes.string.isRequired,\n  theme: PropTypes.string.isRequired\n};\n\nvar ChannelProfile = function ChannelProfile(props) {\n  var disabled = props.disabled,\n      channel = props.channel,\n      userId = props.userId,\n      theme = props.theme,\n      onChannelInfoChange = props.onChannelInfoChange;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      showModal = _useState2[0],\n      setShowModal = _useState2[1];\n\n  var _useContext = useContext(LocalizationContext),\n      stringSet = _useContext.stringSet;\n\n  var getChannelName = function getChannelName() {\n    if (channel && channel.name && channel.name !== 'Group Channel') {\n      return channel.name;\n    }\n\n    if (channel && (channel.name === 'Group Channel' || !channel.name)) {\n      return channel.members.map(function (member) {\n        return member.nickname || stringSet.NO_NAME;\n      }).join(', ');\n    }\n\n    return stringSet.NO_TITLE;\n  };\n\n  return /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"sendbird-channel-profile\"\n  }, /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"sendbird-channel-profile--inner\"\n  }, /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"sendbird-channel-profile__avatar\"\n  }, /*#__PURE__*/React__default.createElement(ChannelAvatar, {\n    channel: channel,\n    userId: userId,\n    theme: theme,\n    width: 80,\n    height: 80\n  })), /*#__PURE__*/React__default.createElement(Label, {\n    className: \"sendbird-channel-profile__title\",\n    type: LabelTypography.SUBTITLE_2,\n    color: LabelColors.ONBACKGROUND_1\n  }, getChannelName()), /*#__PURE__*/React__default.createElement(TextButton, {\n    disabled: disabled,\n    className: \"sendbird-channel-profile__edit\",\n    onClick: function onClick() {\n      if (disabled) {\n        return;\n      }\n\n      setShowModal(true);\n    },\n    notUnderline: true\n  }, /*#__PURE__*/React__default.createElement(Label, {\n    type: LabelTypography.BUTTON_1,\n    color: disabled ? LabelColors.ONBACKGROUND_2 : LabelColors.PRIMARY\n  }, stringSet.CHANNEL_SETTING__PROFILE__EDIT)), showModal && /*#__PURE__*/React__default.createElement(EditDetails, {\n    onCancel: function onCancel() {\n      return setShowModal(false);\n    },\n    onSubmit: onChannelInfoChange,\n    channel: channel,\n    userId: userId,\n    theme: theme\n  })));\n};\n\nChannelProfile.propTypes = {\n  channel: PropTypes.shape({\n    name: PropTypes.string,\n    members: PropTypes.arrayOf(PropTypes.shape({\n      nickname: PropTypes.string\n    }))\n  }).isRequired,\n  userId: PropTypes.string.isRequired,\n  theme: PropTypes.string,\n  disabled: PropTypes.bool,\n  onChannelInfoChange: PropTypes.func\n};\nChannelProfile.defaultProps = {\n  theme: 'light',\n  disabled: false,\n  onChannelInfoChange: function onChannelInfoChange() {}\n};\n\nfunction MembersModal(_a) {\n  var hideModal = _a.hideModal,\n      channel = _a.channel,\n      currentUser = _a.currentUser;\n\n  var _b = useState([]),\n      members = _b[0],\n      setMembers = _b[1];\n\n  var _c = useState(null),\n      memberQuery = _c[0],\n      setMemberQuery = _c[1];\n\n  useEffect(function () {\n    var memberListQuery = channel.createMemberListQuery();\n    memberListQuery.limit = 20;\n    memberListQuery.next(function (members, error) {\n      if (error) {\n        return;\n      }\n\n      setMembers(members);\n    });\n    setMemberQuery(memberListQuery);\n  }, []);\n  return /*#__PURE__*/React__default.createElement(\"div\", null, /*#__PURE__*/React__default.createElement(Modal, {\n    hideFooter: true,\n    onCancel: function onCancel() {\n      return hideModal();\n    },\n    onSubmit: noop,\n    titleText: \"All Members\"\n  }, /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"sendbird-more-members__popup-scroll\",\n    onScroll: function onScroll(e) {\n      var hasNext = memberQuery.hasNext;\n      var target = e.target;\n      var fetchMore = target.clientHeight + target.scrollTop === target.scrollHeight;\n\n      if (hasNext && fetchMore) {\n        memberQuery.next(function (o, error) {\n          if (error) {\n            return;\n          }\n\n          setMembers(__spreadArray(__spreadArray([], members, true), o, true));\n        });\n      }\n    }\n  }, members.map(function (member) {\n    return /*#__PURE__*/React__default.createElement(UserListItem$2, {\n      user: member,\n      key: member.userId,\n      currentUser: currentUser,\n      action: function action(_a) {\n        var parentRef = _a.parentRef,\n            actionRef = _a.actionRef;\n        return /*#__PURE__*/React__default.createElement(React__default.Fragment, null, channel.myRole === 'operator' && /*#__PURE__*/React__default.createElement(ContextMenu, {\n          menuTrigger: function menuTrigger(toggleDropdown) {\n            return /*#__PURE__*/React__default.createElement(IconButton, {\n              className: \"sendbird-user-message__more__menu\",\n              width: \"32px\",\n              height: \"32px\",\n              onClick: toggleDropdown\n            }, /*#__PURE__*/React__default.createElement(Icon, {\n              width: \"24px\",\n              height: \"24px\",\n              type: IconTypes.MORE,\n              fillColor: IconColors.CONTENT_INVERSE\n            }));\n          },\n          menuItems: function menuItems(closeDropdown) {\n            return /*#__PURE__*/React__default.createElement(MenuItems, {\n              parentContainRef: parentRef,\n              parentRef: actionRef // for catching location(x, y) of MenuItems\n              ,\n              closeDropdown: closeDropdown,\n              openLeft: true\n            }, /*#__PURE__*/React__default.createElement(MenuItem, {\n              onClick: function onClick() {\n                if (member.role !== 'operator') {\n                  channel.addOperators([member.userId], function () {\n                    setMembers(members.map(function (m) {\n                      if (m.userId === member.userId) {\n                        return __assign(__assign({}, member), {\n                          role: 'operator'\n                        });\n                      }\n\n                      return m;\n                    }));\n                    closeDropdown();\n                  });\n                } else {\n                  channel.removeOperators([member.userId], function () {\n                    setMembers(members.map(function (m) {\n                      if (m.userId === member.userId) {\n                        return __assign(__assign({}, member), {\n                          role: ''\n                        });\n                      }\n\n                      return m;\n                    }));\n                    closeDropdown();\n                  });\n                }\n              }\n            }, member.role !== 'operator' ? 'Promote to operator' : 'Demote operator'), // No muted members in broadcast channel\n            !channel.isBroadcast && /*#__PURE__*/React__default.createElement(MenuItem, {\n              onClick: function onClick() {\n                if (member.isMuted) {\n                  channel.unmuteUser(member, function () {\n                    setMembers(members.map(function (m) {\n                      if (m.userId === member.userId) {\n                        return __assign(__assign({}, member), {\n                          isMuted: false\n                        });\n                      }\n\n                      return m;\n                    }));\n                    closeDropdown();\n                  });\n                } else {\n                  channel.muteUser(member, function () {\n                    setMembers(members.map(function (m) {\n                      if (m.userId === member.userId) {\n                        return __assign(__assign({}, member), {\n                          isMuted: true\n                        });\n                      }\n\n                      return m;\n                    }));\n                    closeDropdown();\n                  });\n                }\n              }\n            }, member.isMuted ? 'Unmute' : 'Mute'), /*#__PURE__*/React__default.createElement(MenuItem, {\n              onClick: function onClick() {\n                channel.banUser(member, -1, '', function () {\n                  setMembers(members.filter(function (_a) {\n                    var userId = _a.userId;\n                    return userId !== member.userId;\n                  }));\n                });\n              }\n            }, \"Ban\"));\n          }\n        }));\n      }\n    });\n  }))));\n}\n\nvar SHOWN_MEMBER_MAX = 10;\n\nvar UserListItem$1 = function UserListItem(_ref) {\n  var _ref$member = _ref.member,\n      member = _ref$member === void 0 ? {} : _ref$member,\n      _ref$currentUser = _ref.currentUser,\n      currentUser = _ref$currentUser === void 0 ? '' : _ref$currentUser;\n  var avatarRef = useRef(null);\n\n  var _useContext = useContext(UserProfileContext),\n      disableUserProfile = _useContext.disableUserProfile,\n      renderUserProfile = _useContext.renderUserProfile;\n\n  var _useContext2 = useContext(LocalizationContext),\n      stringSet = _useContext2.stringSet;\n\n  return /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"sendbird-members-accordion__member\"\n  }, /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"sendbird-members-accordion__member-avatar\"\n  }, /*#__PURE__*/React__default.createElement(ContextMenu, {\n    menuTrigger: function menuTrigger(toggleDropdown) {\n      return /*#__PURE__*/React__default.createElement(Avatar, {\n        onClick: function onClick() {\n          if (!disableUserProfile) {\n            toggleDropdown();\n          }\n        },\n        ref: avatarRef,\n        src: member.profileUrl,\n        width: 24,\n        height: 24\n      });\n    },\n    menuItems: function menuItems(closeDropdown) {\n      return /*#__PURE__*/React__default.createElement(MenuItems, {\n        openLeft: true,\n        parentRef: avatarRef // for catching location(x, y) of MenuItems\n        ,\n        parentContainRef: avatarRef // for toggling more options(menus & reactions)\n        ,\n        closeDropdown: closeDropdown,\n        style: {\n          paddingTop: 0,\n          paddingBottom: 0\n        }\n      }, renderUserProfile ? renderUserProfile({\n        user: member,\n        currentUserId: currentUser,\n        close: closeDropdown\n      }) : /*#__PURE__*/React__default.createElement(ConnectedUserProfile, {\n        user: member,\n        currentUserId: currentUser,\n        onSuccess: closeDropdown\n      }));\n    }\n  })), /*#__PURE__*/React__default.createElement(Label, {\n    type: LabelTypography.SUBTITLE_2,\n    color: LabelColors.ONBACKGROUND_1\n  }, member.nickname || stringSet.NO_NAME, currentUser === member.userId && stringSet.CHANNEL_SETTING__MEMBERS__YOU));\n};\n\nUserListItem$1.propTypes = {\n  member: PropTypes.shape({\n    userId: PropTypes.string,\n    profileUrl: PropTypes.string,\n    nickname: PropTypes.string\n  }).isRequired,\n  currentUser: PropTypes.string.isRequired\n};\n\nvar MembersAccordion = function MembersAccordion(_ref2) {\n  var channel = _ref2.channel,\n      disabled = _ref2.disabled,\n      currentUser = _ref2.currentUser,\n      userQueryCreator = _ref2.userQueryCreator,\n      onInviteMembers = _ref2.onInviteMembers,\n      swapParams = _ref2.swapParams;\n  var members = channel.members || [];\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      showMoreModal = _useState2[0],\n      setShowMoreModal = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      showAddUserModal = _useState4[0],\n      setShowAddUserModal = _useState4[1];\n\n  var _useContext3 = useContext(LocalizationContext),\n      stringSet = _useContext3.stringSet;\n\n  return /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"sendbird-members-accordion\"\n  }, /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"sendbird-members-accordion__list\"\n  }, members.slice(0, SHOWN_MEMBER_MAX).map(function (member) {\n    return /*#__PURE__*/React__default.createElement(UserListItem$1, {\n      member: member,\n      currentUser: currentUser,\n      key: member.userId\n    });\n  })), /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"sendbird-members-accordion__footer\"\n  }, members.length >= SHOWN_MEMBER_MAX && /*#__PURE__*/React__default.createElement(Button, {\n    className: \"sendbird-members-accordion__footer__all-members\",\n    type: ButtonTypes.SECONDARY,\n    size: ButtonSizes.SMALL,\n    onClick: function onClick() {\n      return setShowMoreModal(true);\n    }\n  }, stringSet.CHANNEL_SETTING__MEMBERS__SEE_ALL_MEMBERS), members.length >= SHOWN_MEMBER_MAX && showMoreModal && /*#__PURE__*/React__default.createElement(MembersModal, {\n    currentUser: currentUser,\n    hideModal: function hideModal() {\n      setShowMoreModal(false);\n    },\n    channel: channel\n  }), /*#__PURE__*/React__default.createElement(Button, {\n    className: \"sendbird-members-accordion__footer__invite-users\",\n    type: ButtonTypes.SECONDARY,\n    size: ButtonSizes.SMALL,\n    disabled: disabled,\n    onClick: function onClick() {\n      if (disabled) {\n        return;\n      }\n\n      setShowAddUserModal(true);\n    }\n  }, stringSet.CHANNEL_SETTING__MEMBERS__INVITE_MEMBER), showAddUserModal && /*#__PURE__*/React__default.createElement(InviteMembers$1, {\n    swapParams: swapParams,\n    titleText: stringSet.MODAL__INVITE_MEMBER__TITLE,\n    submitText: stringSet.BUTTON__INVITE,\n    closeModal: function closeModal() {\n      return setShowAddUserModal(false);\n    },\n    idsToFilter: members.map(function (member) {\n      return member.userId;\n    }),\n    userQueryCreator: userQueryCreator,\n    onSubmit: onInviteMembers\n  })));\n};\n\nMembersAccordion.propTypes = {\n  swapParams: PropTypes.bool,\n  disabled: PropTypes.bool,\n  channel: PropTypes.shape({\n    members: PropTypes.arrayOf(PropTypes.shape({}))\n  }),\n  currentUser: PropTypes.string,\n  userQueryCreator: PropTypes.func.isRequired,\n  onInviteMembers: PropTypes.func.isRequired\n};\nMembersAccordion.defaultProps = {\n  swapParams: false,\n  currentUser: '',\n  disabled: false,\n  channel: {}\n}; // might move to reusable/UI\n\nvar COMPONENT_NAME = 'sendbird-user-list-item--small';\n\nvar UserListItem = function UserListItem(_a) {\n  var user = _a.user,\n      className = _a.className,\n      currentUser = _a.currentUser,\n      action = _a.action;\n  var actionRef = useRef(null);\n  var parentRef = useRef(null);\n  var avatarRef = useRef(null);\n  var stringSet = useContext(LocalizationContext).stringSet;\n\n  var _b = useContext(UserProfileContext),\n      disableUserProfile = _b.disableUserProfile,\n      renderUserProfile = _b.renderUserProfile;\n\n  var injectingClassNames = Array.isArray(className) ? className : [className];\n  return /*#__PURE__*/React__default.createElement(\"div\", {\n    ref: parentRef,\n    className: __spreadArray([COMPONENT_NAME], injectingClassNames, true).join(' ')\n  }, user.isMuted && /*#__PURE__*/React__default.createElement(MutedAvatarOverlay, null), /*#__PURE__*/React__default.createElement(ContextMenu, {\n    menuTrigger: function menuTrigger(toggleDropdown) {\n      return /*#__PURE__*/React__default.createElement(Avatar, {\n        onClick: function onClick() {\n          if (!disableUserProfile) {\n            toggleDropdown();\n          }\n        },\n        ref: avatarRef,\n        className: COMPONENT_NAME + \"__avatar\",\n        src: user.profileUrl,\n        width: 24,\n        height: 24\n      });\n    },\n    menuItems: function menuItems(closeDropdown) {\n      return /*#__PURE__*/React__default.createElement(MenuItems, {\n        openLeft: true,\n        parentRef: avatarRef // for catching location(x, y) of MenuItems\n        ,\n        parentContainRef: avatarRef // for toggling more options(menus & reactions)\n        ,\n        closeDropdown: closeDropdown,\n        style: {\n          paddingTop: 0,\n          paddingBottom: 0\n        }\n      }, renderUserProfile ? renderUserProfile({\n        user: user,\n        currentUserId: currentUser,\n        close: closeDropdown\n      }) : /*#__PURE__*/React__default.createElement(ConnectedUserProfile, {\n        user: user,\n        currentUserId: currentUser,\n        onSuccess: closeDropdown\n      }));\n    }\n  }), /*#__PURE__*/React__default.createElement(Label, {\n    className: COMPONENT_NAME + \"__title\",\n    type: LabelTypography.SUBTITLE_1,\n    color: LabelColors.ONBACKGROUND_1\n  }, user.nickname || stringSet.NO_NAME, currentUser === user.userId && \" (You)\"), // if there is now nickname, display userId\n  !user.nickname && /*#__PURE__*/React__default.createElement(Label, {\n    className: COMPONENT_NAME + \"__subtitle\",\n    type: LabelTypography.CAPTION_3,\n    color: LabelColors.ONBACKGROUND_2\n  }, user.userId), user.role === 'operator' && /*#__PURE__*/React__default.createElement(Label, {\n    className: COMPONENT_NAME + \"__operator\",\n    type: LabelTypography.SUBTITLE_2,\n    color: LabelColors.ONBACKGROUND_2\n  }, \"Operator\"), action && /*#__PURE__*/React__default.createElement(\"div\", {\n    ref: actionRef,\n    className: COMPONENT_NAME + \"__action\"\n  }, action({\n    actionRef: actionRef,\n    parentRef: parentRef\n  })));\n};\n\nfunction OperatorsModal(_a) {\n  var hideModal = _a.hideModal,\n      channel = _a.channel,\n      currentUser = _a.currentUser;\n\n  var _b = useState([]),\n      operators = _b[0],\n      setOperators = _b[1];\n\n  var _c = useState(null),\n      operatorQuery = _c[0],\n      setOperatorQuery = _c[1];\n\n  useEffect(function () {\n    var operatorListQuery = channel.createOperatorListQuery();\n    operatorListQuery.limit = 20;\n    operatorListQuery.next(function (operators, error) {\n      if (error) {\n        return;\n      }\n\n      setOperators(operators);\n    });\n    setOperatorQuery(operatorListQuery);\n  }, []);\n  return /*#__PURE__*/React__default.createElement(\"div\", null, /*#__PURE__*/React__default.createElement(Modal, {\n    hideFooter: true,\n    onCancel: function onCancel() {\n      return hideModal();\n    },\n    onSubmit: noop,\n    titleText: \"All operators\"\n  }, /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"sendbird-more-members__popup-scroll\",\n    onScroll: function onScroll(e) {\n      var hasNext = operatorQuery.hasNext;\n      var target = e.target;\n      var fetchMore = target.clientHeight + target.scrollTop === target.scrollHeight;\n\n      if (hasNext && fetchMore) {\n        operatorQuery.next(function (o, error) {\n          if (error) {\n            return;\n          }\n\n          setOperators(__spreadArray(__spreadArray([], operators, true), o, true));\n        });\n      }\n    }\n  }, operators.map(function (member) {\n    return /*#__PURE__*/React__default.createElement(UserListItem$2, {\n      currentUser: currentUser,\n      user: member,\n      key: member.userId,\n      action: function action(_a) {\n        var parentRef = _a.parentRef,\n            actionRef = _a.actionRef;\n        return /*#__PURE__*/React__default.createElement(ContextMenu, {\n          menuTrigger: function menuTrigger(toggleDropdown) {\n            return /*#__PURE__*/React__default.createElement(IconButton, {\n              className: \"sendbird-user-message__more__menu\",\n              width: \"32px\",\n              height: \"32px\",\n              onClick: toggleDropdown\n            }, /*#__PURE__*/React__default.createElement(Icon, {\n              width: \"24px\",\n              height: \"24px\",\n              type: IconTypes.MORE,\n              fillColor: IconColors.CONTENT_INVERSE\n            }));\n          },\n          menuItems: function menuItems(closeDropdown) {\n            return /*#__PURE__*/React__default.createElement(MenuItems, {\n              parentContainRef: parentRef,\n              parentRef: actionRef // for catching location(x, y) of MenuItems\n              ,\n              closeDropdown: closeDropdown,\n              openLeft: true\n            }, /*#__PURE__*/React__default.createElement(MenuItem, {\n              onClick: function onClick() {\n                channel.removeOperators([member.userId], function (response, error) {\n                  if (error) {\n                    return;\n                  }\n\n                  setOperators(operators.filter(function (_a) {\n                    var userId = _a.userId;\n                    return userId !== member.userId;\n                  }));\n                });\n                closeDropdown();\n              }\n            }, \"Dismiss operator\"));\n          }\n        });\n      }\n    });\n  }))));\n}\n\nfunction AddOperatorsModal(_a) {\n  var hideModal = _a.hideModal,\n      channel = _a.channel,\n      _onSubmit = _a.onSubmit;\n\n  var _b = useState([]),\n      members = _b[0],\n      setMembers = _b[1];\n\n  var _c = useState({}),\n      selectedMembers = _c[0],\n      setSelectedMembers = _c[1];\n\n  var _d = useState(null),\n      memberQuery = _d[0],\n      setMemberQuery = _d[1];\n\n  var stringSet = useContext(LocalizationContext).stringSet;\n  useEffect(function () {\n    var memberListQuery = channel.createMemberListQuery();\n    memberListQuery.limit = 20;\n    memberListQuery.next(function (members, error) {\n      if (error) {\n        return;\n      }\n\n      setMembers(members);\n    });\n    setMemberQuery(memberListQuery);\n  }, []);\n  var selectedCount = Object.keys(selectedMembers).filter(function (m) {\n    return selectedMembers[m];\n  }).length;\n  return /*#__PURE__*/React__default.createElement(\"div\", null, /*#__PURE__*/React__default.createElement(Modal, {\n    type: Type.PRIMARY,\n    submitText: \"Add\",\n    onCancel: function onCancel() {\n      return hideModal();\n    },\n    onSubmit: function onSubmit() {\n      var members = Object.keys(selectedMembers).filter(function (m) {\n        return selectedMembers[m];\n      });\n\n      _onSubmit(members);\n    },\n    titleText: \"Select members\"\n  }, /*#__PURE__*/React__default.createElement(Label, {\n    color: selectedCount > 0 ? LabelColors.PRIMARY : LabelColors.ONBACKGROUND_3,\n    type: LabelTypography.CAPTION_1\n  }, selectedCount + \" \" + stringSet.MODAL__INVITE_MEMBER__SELECTEC), /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"sendbird-more-members__popup-scroll\",\n    onScroll: function onScroll(e) {\n      var hasNext = memberQuery.hasNext;\n      var target = e.target;\n      var fetchMore = target.clientHeight + target.scrollTop === target.scrollHeight;\n\n      if (hasNext && fetchMore) {\n        memberQuery.next(function (o, error) {\n          if (error) {\n            return;\n          }\n\n          setMembers(__spreadArray(__spreadArray([], members, true), o, true));\n        });\n      }\n    }\n  }, members.map(function (member) {\n    return /*#__PURE__*/React__default.createElement(UserListItem$2, {\n      checkBox: true,\n      checked: selectedMembers[member.userId],\n      onChange: function onChange(event) {\n        var _a;\n\n        var modifiedSelectedMembers = __assign(__assign({}, selectedMembers), (_a = {}, _a[event.target.id] = event.target.checked, _a));\n\n        if (!event.target.checked) {\n          delete modifiedSelectedMembers[event.target.id];\n        }\n\n        setSelectedMembers(modifiedSelectedMembers);\n      },\n      user: member,\n      key: member.userId\n    });\n  }))));\n}\n\nvar OperatorList = function OperatorList(_a) {\n  var sdk = _a.sdk,\n      channel = _a.channel;\n\n  var _b = useState([]),\n      operators = _b[0],\n      setOperators = _b[1];\n\n  var _c = useState(false),\n      showMore = _c[0],\n      setShowMore = _c[1];\n\n  var _d = useState(false),\n      showAdd = _d[0],\n      setShowAdd = _d[1];\n\n  var _e = useState(false),\n      hasNext = _e[0],\n      setHasNext = _e[1];\n\n  var stringSet = useContext(LocalizationContext).stringSet;\n  useEffect(function () {\n    if (!channel) {\n      setOperators([]);\n      return;\n    }\n\n    var operatorListQuery = channel.createOperatorListQuery();\n    operatorListQuery.limit = 10;\n    operatorListQuery.next(function (operators, error) {\n      if (error) {\n        return;\n      }\n\n      setOperators(operators);\n      setHasNext(operatorListQuery.hasNext);\n    });\n  }, [channel]);\n  var refershList = useCallback(function () {\n    if (!channel) {\n      setOperators([]);\n      return;\n    }\n\n    var operatorListQuery = channel.createOperatorListQuery();\n    operatorListQuery.limit = 10;\n    operatorListQuery.next(function (operators, error) {\n      if (error) {\n        return;\n      }\n\n      setOperators(operators);\n      setHasNext(operatorListQuery.hasNext);\n    });\n  }, [channel]);\n  return /*#__PURE__*/React__default.createElement(React__default.Fragment, null, operators.map(function (operator) {\n    return /*#__PURE__*/React__default.createElement(UserListItem, {\n      key: operator.userId,\n      user: operator,\n      currentUser: sdk.currentUser.userId,\n      action: function action(_a) {\n        var actionRef = _a.actionRef,\n            parentRef = _a.parentRef;\n        return /*#__PURE__*/React__default.createElement(ContextMenu, {\n          menuTrigger: function menuTrigger(toggleDropdown) {\n            return /*#__PURE__*/React__default.createElement(IconButton, {\n              className: \"sendbird-user-message__more__menu\",\n              width: \"32px\",\n              height: \"32px\",\n              onClick: toggleDropdown\n            }, /*#__PURE__*/React__default.createElement(Icon, {\n              width: \"24px\",\n              height: \"24px\",\n              type: IconTypes.MORE,\n              fillColor: IconColors.CONTENT_INVERSE\n            }));\n          },\n          menuItems: function menuItems(closeDropdown) {\n            return /*#__PURE__*/React__default.createElement(MenuItems, {\n              parentContainRef: parentRef,\n              parentRef: actionRef // for catching location(x, y) of MenuItems\n              ,\n              closeDropdown: closeDropdown,\n              openLeft: true\n            }, /*#__PURE__*/React__default.createElement(MenuItem, {\n              onClick: function onClick() {\n                channel.removeOperators([operator.userId], function (response, error) {\n                  if (error) {\n                    return;\n                  }\n\n                  setOperators(operators.filter(function (_a) {\n                    var userId = _a.userId;\n                    return userId !== operator.userId;\n                  }));\n                });\n                closeDropdown();\n              }\n            }, \"Dismiss operator\"));\n          }\n        });\n      }\n    });\n  }), hasNext && /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"sendbird-channel-settings-accordion__footer\"\n  }, /*#__PURE__*/React__default.createElement(Button, {\n    type: ButtonTypes.SECONDARY,\n    size: ButtonSizes.SMALL,\n    onClick: function onClick() {\n      setShowMore(true);\n    }\n  }, stringSet.CHANNEL_SETTING__OPERATORS__TITLE_ALL), /*#__PURE__*/React__default.createElement(Button, {\n    type: ButtonTypes.SECONDARY,\n    size: ButtonSizes.SMALL,\n    onClick: function onClick() {\n      setShowAdd(true);\n    }\n  }, stringSet.CHANNEL_SETTING__OPERATORS__TITLE_ADD)), showMore && /*#__PURE__*/React__default.createElement(OperatorsModal, {\n    currentUser: sdk.currentUser.userId,\n    hideModal: function hideModal() {\n      setShowMore(false);\n      refershList();\n    },\n    channel: channel\n  }), showAdd && /*#__PURE__*/React__default.createElement(AddOperatorsModal, {\n    hideModal: function hideModal() {\n      return setShowAdd(false);\n    },\n    channel: channel,\n    onSubmit: function onSubmit(members) {\n      setShowAdd(false);\n      channel.addOperators(members, function () {\n        refershList();\n      });\n    }\n  }));\n};\n\nvar mapStoreToProps$3 = function mapStoreToProps(store) {\n  return {\n    sdk: getSdk(store)\n  };\n};\n\nvar OperatorList$1 = withSendbirdContext(OperatorList, mapStoreToProps$3);\n\nfunction InviteMembers(_a) {\n  var hideModal = _a.hideModal,\n      userQueryCreator = _a.userQueryCreator,\n      _onSubmit = _a.onSubmit;\n\n  var _b = useState([]),\n      members = _b[0],\n      setMembers = _b[1];\n\n  var _c = useState({}),\n      selectedMembers = _c[0],\n      setSelectedMembers = _c[1];\n\n  var _d = useState(null),\n      userQuery = _d[0],\n      setUserQuery = _d[1];\n\n  useEffect(function () {\n    var userListQuery = userQueryCreator();\n    userListQuery.limit = 20;\n    userListQuery.next(function (members, error) {\n      if (error) {\n        return;\n      }\n\n      setMembers(members);\n    });\n    setUserQuery(userListQuery);\n  }, []);\n  return /*#__PURE__*/React__default.createElement(\"div\", null, /*#__PURE__*/React__default.createElement(Modal, {\n    disabled: Object.keys(selectedMembers).length === 0,\n    submitText: \"Invite\",\n    type: Type.PRIMARY,\n    onCancel: function onCancel() {\n      return hideModal();\n    },\n    onSubmit: function onSubmit() {\n      var members = Object.keys(selectedMembers).filter(function (m) {\n        return selectedMembers[m];\n      });\n\n      _onSubmit(members);\n    },\n    titleText: \"Select members\"\n  }, /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"sendbird-more-members__popup-scroll\",\n    onScroll: function onScroll(e) {\n      var hasNext = userQuery.hasNext;\n      var target = e.target;\n      var fetchMore = target.clientHeight + target.scrollTop === target.scrollHeight;\n\n      if (hasNext && fetchMore) {\n        userQuery.next(function (o, error) {\n          if (error) {\n            return;\n          }\n\n          setMembers(__spreadArray(__spreadArray([], members, true), o, true));\n        });\n      }\n    }\n  }, members.map(function (member) {\n    return /*#__PURE__*/React__default.createElement(UserListItem$2, {\n      checkBox: true,\n      checked: selectedMembers[member.userId],\n      onChange: function onChange(event) {\n        var _a;\n\n        var modifiedSelectedMembers = __assign(__assign({}, selectedMembers), (_a = {}, _a[event.target.id] = event.target.checked, _a));\n\n        if (!event.target.checked) {\n          delete modifiedSelectedMembers[event.target.id];\n        }\n\n        setSelectedMembers(modifiedSelectedMembers);\n      },\n      user: member,\n      key: member.userId\n    });\n  }))));\n}\n\nvar MemberList = function MemberList(_a) {\n  var sdk = _a.sdk,\n      channel = _a.channel,\n      userQueryCreator = _a.userQueryCreator,\n      userId = _a.userId;\n\n  var _b = useState([]),\n      members = _b[0],\n      setMembers = _b[1];\n\n  var _c = useState(false),\n      hasNext = _c[0],\n      setHasNext = _c[1];\n\n  var _d = useState(false),\n      showAllMembers = _d[0],\n      setShowAllMembers = _d[1];\n\n  var _e = useState(false),\n      showInviteMembers = _e[0],\n      setShowInviteMembers = _e[1];\n\n  useEffect(function () {\n    if (!channel) {\n      setMembers([]);\n      return;\n    }\n\n    var memberUserListQuery = channel.createMemberListQuery();\n    memberUserListQuery.limit = 10;\n    memberUserListQuery.next(function (members, error) {\n      if (error) {\n        return;\n      }\n\n      setMembers(members);\n      setHasNext(memberUserListQuery.hasNext);\n    });\n  }, [channel]);\n  var refershList = useCallback(function () {\n    if (!channel) {\n      setMembers([]);\n      return;\n    }\n\n    var memberUserListQuery = channel.createMemberListQuery();\n    memberUserListQuery.limit = 10;\n    memberUserListQuery.next(function (members, error) {\n      if (error) {\n        return;\n      }\n\n      setMembers(members);\n      setHasNext(memberUserListQuery.hasNext);\n    });\n  }, [channel]);\n  return /*#__PURE__*/React__default.createElement(React__default.Fragment, null, members.map(function (member) {\n    return /*#__PURE__*/React__default.createElement(UserListItem, {\n      key: member.userId,\n      user: member,\n      currentUser: sdk.currentUser.userId,\n      action: userId !== member.userId ? function (_a) {\n        var actionRef = _a.actionRef,\n            parentRef = _a.parentRef;\n        return /*#__PURE__*/React__default.createElement(ContextMenu, {\n          menuTrigger: function menuTrigger(toggleDropdown) {\n            return /*#__PURE__*/React__default.createElement(IconButton, {\n              className: \"sendbird-user-message__more__menu\",\n              width: \"32px\",\n              height: \"32px\",\n              onClick: toggleDropdown\n            }, /*#__PURE__*/React__default.createElement(Icon, {\n              width: \"24px\",\n              height: \"24px\",\n              type: IconTypes.MORE,\n              fillColor: IconColors.CONTENT_INVERSE\n            }));\n          },\n          menuItems: function menuItems(closeDropdown) {\n            return /*#__PURE__*/React__default.createElement(MenuItems, {\n              parentContainRef: parentRef,\n              parentRef: actionRef // for catching location(x, y) of MenuItems\n              ,\n              closeDropdown: closeDropdown,\n              openLeft: true\n            }, /*#__PURE__*/React__default.createElement(MenuItem, {\n              onClick: function onClick() {\n                if (member.role !== 'operator') {\n                  channel.addOperators([member.userId], function () {\n                    refershList();\n                    closeDropdown();\n                  });\n                } else {\n                  channel.removeOperators([member.userId], function () {\n                    refershList();\n                    closeDropdown();\n                  });\n                }\n              }\n            }, member.role !== 'operator' ? 'Promote to operator' : 'Demote operator'), // No muted members in broadcast channel\n            !channel.isBroadcast && /*#__PURE__*/React__default.createElement(MenuItem, {\n              onClick: function onClick() {\n                if (member.isMuted) {\n                  channel.unmuteUser(member, function () {\n                    refershList();\n                    closeDropdown();\n                  });\n                } else {\n                  channel.muteUser(member, function () {\n                    refershList();\n                    closeDropdown();\n                  });\n                }\n              }\n            }, member.isMuted ? 'Unmute' : 'Mute'), /*#__PURE__*/React__default.createElement(MenuItem, {\n              onClick: function onClick() {\n                channel.banUser(member, -1, '', function () {\n                  refershList();\n                  closeDropdown();\n                });\n              }\n            }, \"Ban\"));\n          }\n        });\n      } : null\n    });\n  }), /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"sendbird-channel-settings-accordion__footer\"\n  }, hasNext && /*#__PURE__*/React__default.createElement(Button, {\n    type: ButtonTypes.SECONDARY,\n    size: ButtonSizes.SMALL,\n    onClick: function onClick() {\n      return setShowAllMembers(true);\n    }\n  }, \"All members\"), /*#__PURE__*/React__default.createElement(Button, {\n    type: ButtonTypes.SECONDARY,\n    size: ButtonSizes.SMALL,\n    onClick: function onClick() {\n      return setShowInviteMembers(true);\n    }\n  }, \"Invite members\")), showAllMembers && /*#__PURE__*/React__default.createElement(MembersModal, {\n    currentUser: sdk.currentUser.userId,\n    channel: channel,\n    hideModal: function hideModal() {\n      setShowAllMembers(false);\n      refershList();\n    }\n  }), showInviteMembers && /*#__PURE__*/React__default.createElement(InviteMembers, {\n    userQueryCreator: userQueryCreator,\n    onSubmit: function onSubmit(selectedMembers) {\n      channel.inviteWithUserIds(selectedMembers, function () {\n        setShowInviteMembers(false);\n        refershList();\n      });\n    },\n    channel: channel,\n    hideModal: function hideModal() {\n      return setShowInviteMembers(false);\n    }\n  }));\n};\n\nvar mapStoreToProps$2 = function mapStoreToProps(store) {\n  return {\n    sdk: getSdk(store)\n  };\n};\n\nvar MemberList$1 = withSendbirdContext(MemberList, mapStoreToProps$2);\n\nfunction BannedMembersModal(_a) {\n  var hideModal = _a.hideModal,\n      channel = _a.channel;\n\n  var _b = useState([]),\n      members = _b[0],\n      setMembers = _b[1];\n\n  var _c = useState(null),\n      memberQuery = _c[0],\n      setMemberQuery = _c[1];\n\n  useEffect(function () {\n    var bannedUserListQuery = channel.createBannedUserListQuery();\n    bannedUserListQuery.next(function (users, error) {\n      if (error) {\n        return;\n      }\n\n      setMembers(users);\n    });\n    setMemberQuery(bannedUserListQuery);\n  }, []);\n  return /*#__PURE__*/React__default.createElement(\"div\", null, /*#__PURE__*/React__default.createElement(Modal, {\n    hideFooter: true,\n    onCancel: function onCancel() {\n      return hideModal();\n    },\n    onSubmit: noop,\n    titleText: \"Muted members\"\n  }, /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"sendbird-more-members__popup-scroll\",\n    onScroll: function onScroll(e) {\n      var hasNext = memberQuery.hasNext;\n      var target = e.target;\n      var fetchMore = target.clientHeight + target.scrollTop === target.scrollHeight;\n\n      if (hasNext && fetchMore) {\n        memberQuery.next(function (o, error) {\n          if (error) {\n            return;\n          }\n\n          setMembers(__spreadArray(__spreadArray([], members, true), o, true));\n        });\n      }\n    }\n  }, members.map(function (member) {\n    return /*#__PURE__*/React__default.createElement(UserListItem$2, {\n      user: member,\n      key: member.userId,\n      action: function action(_a) {\n        var parentRef = _a.parentRef,\n            actionRef = _a.actionRef;\n        return /*#__PURE__*/React__default.createElement(ContextMenu, {\n          menuTrigger: function menuTrigger(toggleDropdown) {\n            return /*#__PURE__*/React__default.createElement(IconButton, {\n              className: \"sendbird-user-message__more__menu\",\n              width: \"32px\",\n              height: \"32px\",\n              onClick: toggleDropdown\n            }, /*#__PURE__*/React__default.createElement(Icon, {\n              width: \"24px\",\n              height: \"24px\",\n              type: IconTypes.MORE,\n              fillColor: IconColors.CONTENT_INVERSE\n            }));\n          },\n          menuItems: function menuItems(closeDropdown) {\n            return /*#__PURE__*/React__default.createElement(MenuItems, {\n              parentContainRef: parentRef,\n              parentRef: actionRef // for catching location(x, y) of MenuItems\n              ,\n              closeDropdown: closeDropdown,\n              openLeft: true\n            }, /*#__PURE__*/React__default.createElement(MenuItem, {\n              onClick: function onClick() {\n                channel.unbanUser(member, function () {\n                  closeDropdown();\n                  setMembers(members.filter(function (m) {\n                    return m.userId !== member.userId;\n                  }));\n                });\n              }\n            }, \"Unban\"));\n          }\n        });\n      }\n    });\n  }))));\n}\n\nvar BannedMemberList = function BannedMemberList(_a) {\n  var channel = _a.channel;\n\n  var _b = useState([]),\n      members = _b[0],\n      setMembers = _b[1];\n\n  var _c = useState(false),\n      hasNext = _c[0],\n      setHasNext = _c[1];\n\n  var _d = useState(false),\n      showModal = _d[0],\n      setShowModal = _d[1];\n\n  useEffect(function () {\n    if (!channel) {\n      setMembers([]);\n      return;\n    }\n\n    var bannedUserListQuery = channel.createBannedUserListQuery();\n    bannedUserListQuery.next(function (users, error) {\n      if (error) {\n        return;\n      }\n\n      setMembers(users);\n      setHasNext(bannedUserListQuery.hasNext);\n    });\n  }, [channel]);\n  var refreshList = useCallback(function () {\n    if (!channel) {\n      setMembers([]);\n      return;\n    }\n\n    var bannedUserListQuery = channel.createBannedUserListQuery();\n    bannedUserListQuery.next(function (users, error) {\n      if (error) {\n        return;\n      }\n\n      setMembers(users);\n      setHasNext(bannedUserListQuery.hasNext);\n    });\n  }, [channel]);\n  return /*#__PURE__*/React__default.createElement(React__default.Fragment, null, members.map(function (member) {\n    return /*#__PURE__*/React__default.createElement(UserListItem, {\n      key: member.userId,\n      user: member,\n      action: function action(_a) {\n        var actionRef = _a.actionRef,\n            parentRef = _a.parentRef;\n        return /*#__PURE__*/React__default.createElement(ContextMenu, {\n          menuTrigger: function menuTrigger(toggleDropdown) {\n            return /*#__PURE__*/React__default.createElement(IconButton, {\n              className: \"sendbird-user-message__more__menu\",\n              width: \"32px\",\n              height: \"32px\",\n              onClick: toggleDropdown\n            }, /*#__PURE__*/React__default.createElement(Icon, {\n              width: \"24px\",\n              height: \"24px\",\n              type: IconTypes.MORE,\n              fillColor: IconColors.CONTENT_INVERSE\n            }));\n          },\n          menuItems: function menuItems(closeDropdown) {\n            return /*#__PURE__*/React__default.createElement(MenuItems, {\n              parentContainRef: parentRef,\n              parentRef: actionRef // for catching location(x, y) of MenuItems\n              ,\n              closeDropdown: closeDropdown,\n              openLeft: true\n            }, /*#__PURE__*/React__default.createElement(MenuItem, {\n              onClick: function onClick() {\n                channel.unbanUser(member, function () {\n                  closeDropdown();\n                  refreshList();\n                });\n              }\n            }, \"Unban\"));\n          }\n        });\n      }\n    });\n  }), members && members.length === 0 && /*#__PURE__*/React__default.createElement(Label, {\n    className: \"sendbird-channel-settings__empty-list\",\n    type: LabelTypography.SUBTITLE_2,\n    color: LabelColors.ONBACKGROUND_3\n  }, \"No banned members yet\"), hasNext && /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"sendbird-channel-settings-accordion__footer\"\n  }, /*#__PURE__*/React__default.createElement(Button, {\n    type: ButtonTypes.SECONDARY,\n    size: ButtonSizes.SMALL,\n    onClick: function onClick() {\n      setShowModal(true);\n    }\n  }, \"All banned members\")), showModal && /*#__PURE__*/React__default.createElement(BannedMembersModal, {\n    channel: channel,\n    hideModal: function hideModal() {\n      setShowModal(false);\n      refreshList();\n    }\n  }));\n};\n\nvar mapStoreToProps$1 = function mapStoreToProps(store) {\n  return {\n    sdk: getSdk(store)\n  };\n};\n\nvar BannedMemberList$1 = withSendbirdContext(BannedMemberList, mapStoreToProps$1);\n\nfunction MutedMembersModal(_a) {\n  var hideModal = _a.hideModal,\n      channel = _a.channel,\n      currentUser = _a.currentUser;\n\n  var _b = useState([]),\n      members = _b[0],\n      setMembers = _b[1];\n\n  var _c = useState(null),\n      memberQuery = _c[0],\n      setMemberQuery = _c[1];\n\n  useEffect(function () {\n    var memberUserListQuery = channel.createMemberListQuery();\n    memberUserListQuery.limit = 10;\n    memberUserListQuery.mutedMemberFilter = 'muted';\n    memberUserListQuery.next(function (members, error) {\n      if (error) {\n        return;\n      }\n\n      setMembers(members);\n    });\n    setMemberQuery(memberUserListQuery);\n  }, []);\n  return /*#__PURE__*/React__default.createElement(\"div\", null, /*#__PURE__*/React__default.createElement(Modal, {\n    hideFooter: true,\n    onCancel: function onCancel() {\n      return hideModal();\n    },\n    onSubmit: noop,\n    titleText: \"Muted members\"\n  }, /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"sendbird-more-members__popup-scroll\",\n    onScroll: function onScroll(e) {\n      var hasNext = memberQuery.hasNext;\n      var target = e.target;\n      var fetchMore = target.clientHeight + target.scrollTop === target.scrollHeight;\n\n      if (hasNext && fetchMore) {\n        memberQuery.next(function (o, error) {\n          if (error) {\n            return;\n          }\n\n          setMembers(__spreadArray(__spreadArray([], members, true), o, true));\n        });\n      }\n    }\n  }, members.map(function (member) {\n    return /*#__PURE__*/React__default.createElement(UserListItem$2, {\n      currentUser: currentUser,\n      user: member,\n      key: member.userId,\n      action: function action(_a) {\n        var actionRef = _a.actionRef,\n            parentRef = _a.parentRef;\n        return /*#__PURE__*/React__default.createElement(ContextMenu, {\n          menuTrigger: function menuTrigger(toggleDropdown) {\n            return /*#__PURE__*/React__default.createElement(IconButton, {\n              className: \"sendbird-user-message__more__menu\",\n              width: \"32px\",\n              height: \"32px\",\n              onClick: toggleDropdown\n            }, /*#__PURE__*/React__default.createElement(Icon, {\n              width: \"24px\",\n              height: \"24px\",\n              type: IconTypes.MORE,\n              fillColor: IconColors.CONTENT_INVERSE\n            }));\n          },\n          menuItems: function menuItems(closeDropdown) {\n            return /*#__PURE__*/React__default.createElement(MenuItems, {\n              parentContainRef: parentRef,\n              parentRef: actionRef // for catching location(x, y) of MenuItems\n              ,\n              closeDropdown: closeDropdown,\n              openLeft: true\n            }, /*#__PURE__*/React__default.createElement(MenuItem, {\n              onClick: function onClick() {\n                channel.unmuteUser(member, function () {\n                  closeDropdown();\n                  setMembers(members.filter(function (m) {\n                    return m.userId !== member.userId;\n                  }));\n                });\n              }\n            }, \"Unmute\"));\n          }\n        });\n      }\n    });\n  }))));\n}\n\nvar MutedMemberList = function MutedMemberList(_a) {\n  var sdk = _a.sdk,\n      channel = _a.channel;\n\n  var _b = useState([]),\n      members = _b[0],\n      setMembers = _b[1];\n\n  var _c = useState(false),\n      hasNext = _c[0],\n      setHasNext = _c[1];\n\n  var _d = useState(false),\n      showModal = _d[0],\n      setShowModal = _d[1];\n\n  useEffect(function () {\n    if (!channel) {\n      setMembers([]);\n      return;\n    }\n\n    var memberUserListQuery = channel.createMemberListQuery();\n    memberUserListQuery.limit = 10;\n    memberUserListQuery.mutedMemberFilter = 'muted';\n    memberUserListQuery.next(function (members, error) {\n      if (error) {\n        return;\n      }\n\n      setMembers(members);\n      setHasNext(memberUserListQuery.hasNext);\n    });\n  }, [channel]);\n  var refreshList = useCallback(function () {\n    if (!channel) {\n      setMembers([]);\n      return;\n    }\n\n    var memberUserListQuery = channel.createMemberListQuery();\n    memberUserListQuery.limit = 10;\n    memberUserListQuery.mutedMemberFilter = 'muted';\n    memberUserListQuery.next(function (members, error) {\n      if (error) {\n        return;\n      }\n\n      setMembers(members);\n      setHasNext(memberUserListQuery.hasNext);\n    });\n  }, [channel]);\n  return /*#__PURE__*/React__default.createElement(React__default.Fragment, null, members.map(function (member) {\n    return /*#__PURE__*/React__default.createElement(UserListItem, {\n      key: member.userId,\n      user: member,\n      currentUser: sdk.currentUser.userId,\n      action: function action(_a) {\n        var actionRef = _a.actionRef,\n            parentRef = _a.parentRef;\n        return /*#__PURE__*/React__default.createElement(ContextMenu, {\n          menuTrigger: function menuTrigger(toggleDropdown) {\n            return /*#__PURE__*/React__default.createElement(IconButton, {\n              className: \"sendbird-user-message__more__menu\",\n              width: \"32px\",\n              height: \"32px\",\n              onClick: toggleDropdown\n            }, /*#__PURE__*/React__default.createElement(Icon, {\n              width: \"24px\",\n              height: \"24px\",\n              type: IconTypes.MORE,\n              fillColor: IconColors.CONTENT_INVERSE\n            }));\n          },\n          menuItems: function menuItems(closeDropdown) {\n            return /*#__PURE__*/React__default.createElement(MenuItems, {\n              closeDropdown: closeDropdown,\n              openLeft: true,\n              parentContainRef: parentRef,\n              parentRef: actionRef // for catching location(x, y) of MenuItems\n\n            }, /*#__PURE__*/React__default.createElement(MenuItem, {\n              onClick: function onClick() {\n                channel.unmuteUser(member, function () {\n                  refreshList();\n                  closeDropdown();\n                });\n              }\n            }, \"Unmute\"));\n          }\n        });\n      }\n    });\n  }), members && members.length === 0 && /*#__PURE__*/React__default.createElement(Label, {\n    className: \"sendbird-channel-settings__empty-list\",\n    type: LabelTypography.SUBTITLE_2,\n    color: LabelColors.ONBACKGROUND_3\n  }, \"No muted members yet\"), hasNext && /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"sendbird-channel-settings-accordion__footer\"\n  }, /*#__PURE__*/React__default.createElement(Button, {\n    type: ButtonTypes.SECONDARY,\n    size: ButtonSizes.SMALL,\n    onClick: function onClick() {\n      setShowModal(true);\n    }\n  }, \"All muted members\")), showModal && /*#__PURE__*/React__default.createElement(MutedMembersModal, {\n    currentUser: sdk.currentUser.userId,\n    channel: channel,\n    hideModal: function hideModal() {\n      setShowModal(false);\n      refreshList();\n    }\n  }));\n};\n\nvar mapStoreToProps = function mapStoreToProps(store) {\n  return {\n    sdk: getSdk(store)\n  };\n};\n\nvar MutedMemberList$1 = withSendbirdContext(MutedMemberList, mapStoreToProps);\n\nvar kFormatter$1 = function kFormatter(num) {\n  return Math.abs(num) > 999 ? (Math.abs(num) / 1000).toFixed(1) + \"K\" : num;\n};\n\nfunction AdminPannel(_a) {\n  var userQueryCreator = _a.userQueryCreator,\n      channel = _a.channel,\n      userId = _a.userId;\n\n  var _b = useState(false),\n      frozen = _b[0],\n      setFrozen = _b[1]; // work around for\n  // https://sendbird.slack.com/archives/G01290GCDCN/p1595922832000900\n  // SDK bug - after frozen/unfrozen myRole becomes \"none\"\n\n\n  useEffect(function () {\n    setFrozen(channel.isFrozen);\n  }, [channel]);\n  var stringSet = useContext(LocalizationContext).stringSet;\n  return /*#__PURE__*/React__default.createElement(AccordionGroup, {\n    className: \"sendbird-channel-settings__operator\"\n  }, /*#__PURE__*/React__default.createElement(Accordion, {\n    className: \"sendbird-channel-settings__operators-list\",\n    id: \"operators\",\n    renderTitle: function renderTitle() {\n      return /*#__PURE__*/React__default.createElement(React__default.Fragment, null, /*#__PURE__*/React__default.createElement(Icon, {\n        type: IconTypes.OPERATOR,\n        fillColor: IconColors.PRIMARY,\n        width: 24,\n        height: 24,\n        className: \"sendbird-channel-settings__accordion-icon\"\n      }), /*#__PURE__*/React__default.createElement(Label, {\n        type: LabelTypography.SUBTITLE_1,\n        color: LabelColors.ONBACKGROUND_1\n      }, stringSet.CHANNEL_SETTING__OPERATORS__TITLE));\n    },\n    renderContent: function renderContent() {\n      return /*#__PURE__*/React__default.createElement(React__default.Fragment, null, /*#__PURE__*/React__default.createElement(OperatorList$1, {\n        channel: channel\n      }));\n    }\n  }), /*#__PURE__*/React__default.createElement(Accordion, {\n    className: \"sendbird-channel-settings__members-list\",\n    id: \"members\",\n    renderTitle: function renderTitle() {\n      return /*#__PURE__*/React__default.createElement(React__default.Fragment, null, /*#__PURE__*/React__default.createElement(Icon, {\n        type: IconTypes.MEMBERS,\n        fillColor: IconColors.PRIMARY,\n        width: 24,\n        height: 24,\n        className: \"sendbird-channel-settings__accordion-icon\"\n      }), /*#__PURE__*/React__default.createElement(Label, {\n        type: LabelTypography.SUBTITLE_1,\n        color: LabelColors.ONBACKGROUND_1\n      }, stringSet.CHANNEL_SETTING__MEMBERS__TITLE), /*#__PURE__*/React__default.createElement(Badge, {\n        count: kFormatter$1(channel.memberCount)\n      }));\n    },\n    renderContent: function renderContent() {\n      return /*#__PURE__*/React__default.createElement(React__default.Fragment, null, /*#__PURE__*/React__default.createElement(MemberList$1, {\n        userQueryCreator: userQueryCreator,\n        channel: channel,\n        userId: userId\n      }));\n    }\n  }), // No muted members in broadcast channel\n  !channel.isBroadcast && /*#__PURE__*/React__default.createElement(Accordion, {\n    id: \"mutedMembers\",\n    className: \"sendbird-channel-settings__muted-members-list\",\n    renderTitle: function renderTitle() {\n      return /*#__PURE__*/React__default.createElement(React__default.Fragment, null, /*#__PURE__*/React__default.createElement(Icon, {\n        type: IconTypes.MUTE,\n        fillColor: IconColors.PRIMARY,\n        width: 24,\n        height: 24,\n        className: \"sendbird-channel-settings__accordion-icon\"\n      }), /*#__PURE__*/React__default.createElement(Label, {\n        type: LabelTypography.SUBTITLE_1,\n        color: LabelColors.ONBACKGROUND_1\n      }, stringSet.CHANNEL_SETTING__MUTED_MEMBERS__TITLE));\n    },\n    renderContent: function renderContent() {\n      return /*#__PURE__*/React__default.createElement(React__default.Fragment, null, /*#__PURE__*/React__default.createElement(MutedMemberList$1, {\n        channel: channel\n      }));\n    }\n  }), /*#__PURE__*/React__default.createElement(Accordion, {\n    className: \"sendbird-channel-settings__banned-members-list\",\n    id: \"bannedMembers\",\n    renderTitle: function renderTitle() {\n      return /*#__PURE__*/React__default.createElement(React__default.Fragment, null, /*#__PURE__*/React__default.createElement(Icon, {\n        type: IconTypes.BAN,\n        fillColor: IconColors.PRIMARY,\n        width: 24,\n        height: 24,\n        className: \"sendbird-channel-settings__accordion-icon\"\n      }), /*#__PURE__*/React__default.createElement(Label, {\n        type: LabelTypography.SUBTITLE_1,\n        color: LabelColors.ONBACKGROUND_1\n      }, stringSet.CHANNEL_SETTING__BANNED_MEMBERS__TITLE));\n    },\n    renderContent: function renderContent() {\n      return /*#__PURE__*/React__default.createElement(React__default.Fragment, null, /*#__PURE__*/React__default.createElement(BannedMemberList$1, {\n        channel: channel\n      }));\n    }\n  }), // cannot frozen broadcast channel\n  !channel.isBroadcast && /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"sendbird-channel-settings__freeze\"\n  }, /*#__PURE__*/React__default.createElement(Icon, {\n    type: IconTypes.FREEZE,\n    fillColor: IconColors.PRIMARY,\n    width: 24,\n    height: 24,\n    className: \"sendbird-channel-settings__accordion-icon\"\n  }), /*#__PURE__*/React__default.createElement(Label, {\n    type: LabelTypography.SUBTITLE_1,\n    color: LabelColors.ONBACKGROUND_1\n  }, stringSet.CHANNEL_SETTING__FREEZE_CHANNEL), /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"sendbird-channel-settings__frozen-icon\"\n  }, frozen ? /*#__PURE__*/React__default.createElement(Icon, {\n    onClick: function onClick() {\n      channel.unfreeze(function () {\n        setFrozen(false);\n      });\n    },\n    type: IconTypes.TOGGLE_ON,\n    fillColor: IconColors.PRIMARY,\n    width: 44,\n    height: 24\n  }) : /*#__PURE__*/React__default.createElement(Icon, {\n    onClick: function onClick() {\n      channel.freeze(function () {\n        setFrozen(true);\n      });\n    },\n    type: IconTypes.TOGGLE_OFF,\n    fillColor: IconColors.PRIMARY,\n    width: 44,\n    height: 24\n  }))));\n}\n\nvar COMPONENT_CLASS_NAME = 'sendbird-channel-settings';\n\nvar kFormatter = function kFormatter(num) {\n  return Math.abs(num) > 999 ? \"\".concat((Math.abs(num) / 1000).toFixed(1), \"K\") : num;\n};\n\nfunction ChannelSettings(props) {\n  var className = props.className,\n      onCloseClick = props.onCloseClick,\n      channelUrl = props.channelUrl,\n      disableUserProfile = props.disableUserProfile,\n      renderUserProfile = props.renderUserProfile,\n      _onChannelModified = props.onChannelModified,\n      renderChannelProfile = props.renderChannelProfile,\n      onBeforeUpdateChannel = props.onBeforeUpdateChannel;\n  var sdkStore = props.stores.sdkStore,\n      _props$config = props.config,\n      userListQuery = _props$config.userListQuery,\n      theme = _props$config.theme,\n      userId = _props$config.userId,\n      logger = _props$config.logger,\n      isOnline = _props$config.isOnline,\n      _props$queries = props.queries,\n      queries = _props$queries === void 0 ? {} : _props$queries;\n  var _props$config2 = props.config,\n      config = _props$config2 === void 0 ? {} : _props$config2;\n  var userDefinedDisableUserProfile = disableUserProfile || config.disableUserProfile;\n  var userDefinedRenderProfile = renderUserProfile || config.renderUserProfile;\n  var userFilledApplicationUserListQuery = queries.applicationUserListQuery;\n\n  var _useContext = useContext(LocalizationContext),\n      stringSet = _useContext.stringSet;\n\n  var sdk = sdkStore.sdk,\n      initialized = sdkStore.initialized; // hack to kepp track of channel updates by triggering useEffect\n\n  var _useState = useState(uuidv4()),\n      _useState2 = _slicedToArray(_useState, 2),\n      channelUpdateId = _useState2[0],\n      setChannelUpdateId = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      channel = _useState4[0],\n      setChannel = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      invalidChannel = _useState6[0],\n      setInvalidChannel = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      showAccordion = _useState8[0],\n      setShowAccordion = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      showLeaveChannelModal = _useState10[0],\n      setShowLeaveChannelModal = _useState10[1];\n\n  var componentClassNames = (Array.isArray(className) ? [COMPONENT_CLASS_NAME].concat(_toConsumableArray(className)) : [COMPONENT_CLASS_NAME, className]).join(' ');\n  useEffect(function () {\n    logger.info('ChannelSettings: Setting up');\n\n    if (!channelUrl || !initialized || !sdk) {\n      logger.warning('ChannelSettings: Setting up failed', 'No channelUrl or sdk uninitialized');\n      setInvalidChannel(false);\n    } else {\n      if (!sdk || !sdk.GroupChannel) {\n        logger.warning('ChannelSettings: No GroupChannel');\n        return;\n      }\n\n      sdk.GroupChannel.getChannel(channelUrl, function (groupChannel) {\n        if (!groupChannel) {\n          logger.warning('ChannelSettings: Channel not found');\n          setInvalidChannel(true);\n        } else {\n          logger.info('ChannelSettings: Fetched group channel', groupChannel);\n          setInvalidChannel(false);\n          setChannel(groupChannel);\n        }\n      });\n    }\n  }, [channelUrl, initialized, channelUpdateId]);\n\n  if (!channel || invalidChannel) {\n    return /*#__PURE__*/React__default.createElement(\"div\", {\n      className: componentClassNames\n    }, /*#__PURE__*/React__default.createElement(\"div\", {\n      className: \"sendbird-channel-settings__header\"\n    }, /*#__PURE__*/React__default.createElement(Label, {\n      type: LabelTypography.H_2,\n      color: LabelColors.ONBACKGROUND_1\n    }, stringSet.CHANNEL_SETTING__HEADER__TITLE), /*#__PURE__*/React__default.createElement(Icon, {\n      className: \"sendbird-channel-settings__close-icon\",\n      type: IconTypes.CLOSE,\n      height: \"24px\",\n      width: \"24px\",\n      onClick: function onClick() {\n        logger.info('ChannelSettings: Click close');\n        onCloseClick();\n      }\n    })), /*#__PURE__*/React__default.createElement(\"div\", null, /*#__PURE__*/React__default.createElement(PlaceHolder, {\n      type: PlaceHolderTypes.WRONG\n    })));\n  }\n\n  return /*#__PURE__*/React__default.createElement(UserProfileProvider, {\n    className: componentClassNames,\n    disableUserProfile: userDefinedDisableUserProfile,\n    renderUserProfile: userDefinedRenderProfile\n  }, /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"sendbird-channel-settings__header\"\n  }, /*#__PURE__*/React__default.createElement(Label, {\n    type: LabelTypography.H_2,\n    color: LabelColors.ONBACKGROUND_1\n  }, stringSet.CHANNEL_SETTING__HEADER__TITLE), /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"sendbird-channel-settings__header-icon\"\n  }, /*#__PURE__*/React__default.createElement(IconButton, {\n    width: \"32px\",\n    height: \"32px\",\n    onClick: function onClick() {\n      logger.info('ChannelSettings: Click close');\n      onCloseClick();\n    }\n  }, /*#__PURE__*/React__default.createElement(Icon, {\n    className: \"sendbird-channel-settings__close-icon\",\n    type: IconTypes.CLOSE,\n    height: \"22px\",\n    width: \"22px\"\n  })))), /*#__PURE__*/React__default.createElement(\"div\", {\n    className: \"sendbird-channel-settings__scroll-area\"\n  }, renderChannelProfile ? renderChannelProfile({\n    channel: channel\n  }) : /*#__PURE__*/React__default.createElement(ChannelProfile, {\n    disabled: !isOnline,\n    channel: channel,\n    userId: userId,\n    theme: theme,\n    onChannelInfoChange: function onChannelInfoChange(currentImg, currentTitle) {\n      logger.info('ChannelSettings: Channel information being updated');\n      var swapParams = sdk.getErrorFirstCallback();\n\n      if (onBeforeUpdateChannel) {\n        var params = onBeforeUpdateChannel(currentTitle, currentImg, channel.data); // swapParams\n\n        channel.updateChannel(params, function (response, error) {\n          var groupChannel = response;\n\n          if (swapParams) {\n            groupChannel = error;\n          }\n\n          _onChannelModified(groupChannel);\n\n          setChannelUpdateId(uuidv4());\n        });\n        return;\n      }\n\n      channel.updateChannel(currentTitle, currentImg, channel.data, function (response, error) {\n        var groupChannel = response;\n\n        if (swapParams) {\n          groupChannel = error;\n        }\n\n        logger.info('ChannelSettings: Channel information updated', groupChannel);\n\n        _onChannelModified(groupChannel);\n\n        setChannelUpdateId(uuidv4());\n      });\n    }\n  }), channel.myRole === 'operator' ? /*#__PURE__*/React__default.createElement(AdminPannel, {\n    channel: channel,\n    userId: userId,\n    onChannelModified: function onChannelModified(groupChannel) {\n      // setChannelUpdateId(uuidv4());\n      _onChannelModified(groupChannel);\n    },\n    userQueryCreator: function userQueryCreator() {\n      return userListQuery && typeof userListQuery === 'function' ? userListQuery() : createDefaultUserListQuery({\n        sdk: sdk,\n        userFilledApplicationUserListQuery: userFilledApplicationUserListQuery\n      });\n    }\n  }) : /*#__PURE__*/React__default.createElement(React__default.Fragment, null, /*#__PURE__*/React__default.createElement(\"div\", {\n    className: ['sendbird-channel-settings__panel-item', 'sendbird-channel-settings__members'].join(' '),\n    role: \"switch\",\n    \"aria-checked\": showAccordion,\n    onKeyDown: function onKeyDown() {\n      return setShowAccordion(!showAccordion);\n    },\n    onClick: function onClick() {\n      return setShowAccordion(!showAccordion);\n    },\n    tabIndex: 0\n  }, /*#__PURE__*/React__default.createElement(Icon, {\n    className: \"sendbird-channel-settings__panel-icon-left\",\n    type: IconTypes.MEMBERS,\n    fillColor: IconColors.PRIMARY,\n    height: \"24px\",\n    width: \"24px\"\n  }), /*#__PURE__*/React__default.createElement(Label, {\n    type: LabelTypography.SUBTITLE_1,\n    color: LabelColors.ONBACKGROUND_1\n  }, stringSet.CHANNEL_SETTING__MEMBERS__TITLE, /*#__PURE__*/React__default.createElement(Badge, {\n    count: kFormatter(channel.memberCount)\n  })), /*#__PURE__*/React__default.createElement(Icon, {\n    className: ['sendbird-channel-settings__panel-icon-right', 'sendbird-channel-settings__panel-icon--chevron', showAccordion ? 'sendbird-channel-settings__panel-icon--open' : ''].join(' '),\n    type: IconTypes.CHEVRON_RIGHT,\n    height: \"24px\",\n    width: \"24px\"\n  })), showAccordion && /*#__PURE__*/React__default.createElement(MembersAccordion, {\n    currentUser: userId,\n    disabled: !isOnline // eslint-disable-next-line\n    ,\n    userQueryCreator: function userQueryCreator() {\n      return userListQuery && typeof userListQuery === 'function' ? userListQuery() : createDefaultUserListQuery({\n        sdk: sdk,\n        userFilledApplicationUserListQuery: userFilledApplicationUserListQuery\n      });\n    },\n    swapParams: sdk && sdk.getErrorFirstCallback && sdk.getErrorFirstCallback(),\n    channel: channel,\n    members: channel.members,\n    onInviteMembers: function onInviteMembers(selectedMembers) {\n      logger.info('ChannelSettings: Inviting new users');\n      channel.inviteWithUserIds(selectedMembers).then(function (res) {\n        _onChannelModified(res);\n\n        setChannelUpdateId(uuidv4());\n        logger.info('ChannelSettings: Inviting new users success!', res);\n      });\n    }\n  })), /*#__PURE__*/React__default.createElement(\"div\", {\n    className: ['sendbird-channel-settings__panel-item', 'sendbird-channel-settings__leave-channel', !isOnline ? 'sendbird-channel-settings__panel-item__disabled' : ''].join(' '),\n    role: \"button\",\n    disabled: true,\n    onKeyDown: function onKeyDown() {\n      if (!isOnline) {\n        return;\n      }\n\n      setShowLeaveChannelModal(true);\n    },\n    onClick: function onClick() {\n      if (!isOnline) {\n        return;\n      }\n\n      setShowLeaveChannelModal(true);\n    },\n    tabIndex: 0\n  }, /*#__PURE__*/React__default.createElement(Icon, {\n    className: ['sendbird-channel-settings__panel-icon-left', 'sendbird-channel-settings__panel-icon__leave'].join(' '),\n    type: IconTypes.LEAVE,\n    fillColor: IconColors.ERROR,\n    height: \"24px\",\n    width: \"24px\"\n  }), /*#__PURE__*/React__default.createElement(Label, {\n    type: LabelTypography.SUBTITLE_1,\n    color: LabelColors.ONBACKGROUND_1\n  }, stringSet.CHANNEL_SETTING__LEAVE_CHANNEL__TITLE)), showLeaveChannelModal && /*#__PURE__*/React__default.createElement(LeaveChannel, {\n    onCloseModal: function onCloseModal() {\n      return setShowLeaveChannelModal(false);\n    },\n    onLeaveChannel: function onLeaveChannel() {\n      logger.info('ChannelSettings: Leaving channel', channel);\n      channel.leave().then(function () {\n        logger.info('ChannelSettings: Leaving channel successful!', channel);\n        onCloseClick();\n      });\n    }\n  })));\n}\n\nChannelSettings.propTypes = {\n  className: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]),\n  onCloseClick: PropTypes.func,\n  onChannelModified: PropTypes.func,\n  onBeforeUpdateChannel: PropTypes.func,\n  renderChannelProfile: PropTypes.oneOfType([PropTypes.element, PropTypes.func]),\n  disableUserProfile: PropTypes.bool,\n  renderUserProfile: PropTypes.func,\n  channelUrl: PropTypes.string.isRequired,\n  queries: PropTypes.shape({\n    applicationUserListQuery: PropTypes.shape({\n      limit: PropTypes.number,\n      userIdsFilter: PropTypes.arrayOf(PropTypes.string),\n      metaDataKeyFilter: PropTypes.string,\n      metaDataValuesFilter: PropTypes.arrayOf(PropTypes.string)\n    })\n  }),\n  // from withSendbirdContext\n  stores: PropTypes.shape({\n    sdkStore: PropTypes.shape({\n      sdk: PropTypes.shape({\n        getErrorFirstCallback: PropTypes.func,\n        GroupChannel: PropTypes.oneOfType([PropTypes.shape({\n          getChannel: PropTypes.func\n        }), PropTypes.func]),\n        createApplicationUserListQuery: PropTypes.any\n      }),\n      initialized: PropTypes.bool\n    })\n  }).isRequired,\n  config: PropTypes.shape({\n    userId: PropTypes.string,\n    theme: PropTypes.string,\n    userListQuery: PropTypes.func,\n    isOnline: PropTypes.bool,\n    logger: PropTypes.shape({\n      info: PropTypes.func,\n      error: PropTypes.func,\n      warning: PropTypes.func\n    })\n  }).isRequired\n};\nChannelSettings.defaultProps = {\n  className: '',\n  onBeforeUpdateChannel: null,\n  queries: {},\n  disableUserProfile: false,\n  renderUserProfile: null,\n  renderChannelProfile: null,\n  onCloseClick: function onCloseClick() {},\n  onChannelModified: function onChannelModified() {}\n};\nvar ChannelSettings$1 = withSendbirdContext(ChannelSettings);\nexport { ChannelSettings$1 as default };","map":{"version":3,"sources":["../src/smart-components/ChannelSettings/components/EditDetails.jsx","../src/smart-components/ChannelSettings/components/ChannelProfile.jsx","../src/smart-components/ChannelSettings/components/AdminPanel/MembersModal.tsx","../src/smart-components/ChannelSettings/components/MembersAccordion.jsx","../src/smart-components/ChannelSettings/components/UserListItem.tsx","../src/smart-components/ChannelSettings/components/AdminPanel/OperatorsModal.tsx","../src/smart-components/ChannelSettings/components/AdminPanel/AddOperatorsModal.tsx","../src/smart-components/ChannelSettings/components/AdminPanel/OperatorList.tsx","../src/smart-components/ChannelSettings/components/AdminPanel/InviteMembersModal.tsx","../src/smart-components/ChannelSettings/components/AdminPanel/MemberList.tsx","../src/smart-components/ChannelSettings/components/AdminPanel/BannedMembersModal.tsx","../src/smart-components/ChannelSettings/components/AdminPanel/BannedMemberList.tsx","../src/smart-components/ChannelSettings/components/AdminPanel/MutedMembersModal.tsx","../src/smart-components/ChannelSettings/components/AdminPanel/MutedMemberList.tsx","../src/smart-components/ChannelSettings/components/AdminPanel/index.tsx","../src/smart-components/ChannelSettings/index.jsx"],"names":["EditDetails","onSubmit","onCancel","channel","userId","theme","props","inputRef","useRef","formRef","hiddenInputRef","currentImg","setCurrentImg","useState","newFile","setNewFile","stringSet","useContext","title","ButtonType","PRIMARY","e","React","display","URL","LabelTypography","LabelColors","MODAL__CHANNEL_INFORMATION__INPUT__PLACE_HOLDER","PropTypes","name","string","isRequired","ChannelProfile","disabled","onChannelInfoChange","showModal","setShowModal","getChannelName","member","ONBACKGROUND_1","members","nickname","func","MembersModal","_a","hideModal","currentUser","setMembers","memberQuery","setMemberQuery","useEffect","memberListQuery","target","fetchMore","hasNext","o","parentRef","actionRef","toggleDropdown","IconTypes","IconColors","CONTENT_INVERSE","m","role","closeDropdown","isMuted","SHOWN_MEMBER_MAX","UserListItem","avatarRef","disableUserProfile","renderUserProfile","paddingTop","paddingBottom","user","currentUserId","close","profileUrl","MembersAccordion","userQueryCreator","onInviteMembers","swapParams","showMoreModal","setShowMoreModal","showAddUserModal","setShowAddUserModal","ButtonTypes","ButtonSizes","COMPONENT_NAME","className","action","injectingClassNames","Array","__spreadArray","ONBACKGROUND_2","OperatorsModal","operators","setOperators","operatorQuery","setOperatorQuery","operatorListQuery","AddOperatorsModal","selectedMembers","setSelectedMembers","selectedCount","CAPTION_1","modifiedSelectedMembers","event","id","checked","OperatorList","sdk","showMore","setShowMore","showAdd","setShowAdd","setHasNext","refershList","useCallback","operator","mapStoreToProps","getSdk","withSendbirdContext","InviteMembers","userQuery","setUserQuery","userListQuery","Object","MemberList","showAllMembers","setShowAllMembers","showInviteMembers","setShowInviteMembers","memberUserListQuery","BannedMembersModal","bannedUserListQuery","BannedMemberList","refreshList","ONBACKGROUND_3","MutedMembersModal","MutedMemberList","kFormatter","Math","AdminPannel","frozen","setFrozen","COMPONENT_CLASS_NAME","onCloseClick","channelUrl","onChannelModified","renderChannelProfile","onBeforeUpdateChannel","sdkStore","logger","isOnline","queries","config","userDefinedDisableUserProfile","userDefinedRenderProfile","userFilledApplicationUserListQuery","initialized","channelUpdateId","setChannelUpdateId","uuidv4","setChannel","invalidChannel","setInvalidChannel","showAccordion","setShowAccordion","showLeaveChannelModal","setShowLeaveChannelModal","componentClassNames","PlaceHolderTypes","WRONG","params","groupChannel","createDefaultUserListQuery","ChannelSettings","applicationUserListQuery","limit","userIdsFilter","metaDataKeyFilter","metaDataValuesFilter","stores","getErrorFirstCallback","GroupChannel","getChannel","createApplicationUserListQuery","any","bool","info","error","warning"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useContext } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { LocalizationContext } from '../../../lib/LocalizationContext';\nimport Modal from '../../../ui/Modal';\nimport Input, { InputLabel } from '../../../ui/Input';\nimport Avatar from '../../../ui/Avatar/index';\nimport { Type as ButtonType } from '../../../ui/Button/type';\nimport Label, { LabelColors, LabelTypography } from '../../../ui/Label';\nimport TextButton from '../../../ui/TextButton';\nimport ChannelAvatar from '../../../ui/ChannelAvatar/index';\n\nconst EditDetails = (props) => {\n  const {\n    onSubmit,\n    onCancel,\n    channel,\n    userId,\n    theme,\n  } = props;\n  const inputRef = useRef(null);\n  const formRef = useRef(null);\n  const hiddenInputRef = useRef(null);\n  const [currentImg, setCurrentImg] = useState(null);\n  const [newFile, setNewFile] = useState(null);\n  const { stringSet } = useContext(LocalizationContext);\n  const title = channel.name;\n  return (\n    <Modal\n      titleText={stringSet.MODAL__CHANNEL_INFORMATION__TITLE}\n      submitText={stringSet.BUTTON__SAVE}\n      onCancel={onCancel}\n      onSubmit={() => {\n        if (title !== '' && !inputRef.current.value) {\n          if (formRef.current.reportValidity) { // might not work in explorer\n            formRef.current.reportValidity();\n          }\n          return;\n        }\n        onSubmit(newFile, inputRef.current.value);\n        onCancel();\n      }}\n      type={ButtonType.PRIMARY}\n    >\n      <form\n        className=\"channel-profile-form\"\n        ref={formRef}\n        onSubmit={(e) => { e.preventDefault(); }}\n      >\n        <div className=\"channel-profile-form__img-section\">\n          <InputLabel>\n            {stringSet.MODAL__CHANNEL_INFORMATION__CHANNEL_IMAGE}\n          </InputLabel>\n          <div className=\"channel-profile-form__avatar\">\n            {\n              currentImg\n                ? (\n                  <Avatar\n                    height=\"80px\"\n                    width=\"80px\"\n                    src={currentImg}\n                  />\n                ) : (\n                  <ChannelAvatar\n                    height={80}\n                    width={80}\n                    channel={channel}\n                    userId={userId}\n                    theme={theme}\n                  />\n                )\n              }\n          </div>\n          <input\n            ref={hiddenInputRef}\n            type=\"file\"\n            accept=\"image/gif, image/jpeg, image/png\"\n            style={{ display: 'none' }}\n            onChange={(e) => {\n              setCurrentImg(URL.createObjectURL(e.target.files[0]));\n              setNewFile(e.target.files[0]);\n              hiddenInputRef.current.value = '';\n            }}\n          />\n          <TextButton\n            className=\"channel-profile-form__avatar-button\"\n            onClick={() => hiddenInputRef.current.click()}\n            notUnderline\n          >\n            <Label type={LabelTypography.BUTTON_1} color={LabelColors.PRIMARY}>\n              {stringSet.MODAL__CHANNEL_INFORMATION__UPLOAD}\n            </Label>\n          </TextButton>\n        </div>\n        <div className=\"channel-profile-form__name-section\">\n          <InputLabel>\n            {stringSet.MODAL__CHANNEL_INFORMATION__CHANNEL_NAME}\n          </InputLabel>\n          <Input\n            required={title !== ''}\n            name=\"channel-profile-form__name\"\n            ref={inputRef}\n            value={title}\n            placeHolder={stringSet.MODAL__CHANNEL_INFORMATION__INPUT__PLACE_HOLDER}\n          />\n        </div>\n      </form>\n    </Modal>\n  );\n};\n\nEditDetails.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n  onCancel: PropTypes.func.isRequired,\n  channel: PropTypes.shape({\n    name: PropTypes.string,\n  }).isRequired,\n  userId: PropTypes.string.isRequired,\n  theme: PropTypes.string.isRequired,\n};\n\nexport default EditDetails;\n","import React, { useState, useContext } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './channel-profile.scss';\n\nimport { LocalizationContext } from '../../../lib/LocalizationContext';\nimport Label, { LabelColors, LabelTypography } from '../../../ui/Label';\nimport EditDetailsModal from './EditDetails';\nimport TextButton from '../../../ui/TextButton';\nimport ChannelAvatar from '../../../ui/ChannelAvatar/index';\n\nconst ChannelProfile = (props) => {\n  const {\n    disabled,\n    channel,\n    userId,\n    theme,\n    onChannelInfoChange,\n  } = props;\n  const [showModal, setShowModal] = useState(false);\n  const { stringSet } = useContext(LocalizationContext);\n\n  const getChannelName = () => {\n    if (channel && channel.name && channel.name !== 'Group Channel') {\n      return channel.name;\n    }\n    if (channel && (channel.name === 'Group Channel' || !channel.name)) {\n      return channel.members.map((member) => member.nickname || stringSet.NO_NAME).join(', ');\n    }\n    return stringSet.NO_TITLE;\n  };\n\n  return (\n    <div className=\"sendbird-channel-profile\">\n      <div className=\"sendbird-channel-profile--inner\">\n        <div className=\"sendbird-channel-profile__avatar\">\n          <ChannelAvatar\n            channel={channel}\n            userId={userId}\n            theme={theme}\n            width={80}\n            height={80}\n          />\n        </div>\n        <Label\n          className=\"sendbird-channel-profile__title\"\n          type={LabelTypography.SUBTITLE_2}\n          color={LabelColors.ONBACKGROUND_1}\n        >\n          {getChannelName()}\n        </Label>\n        <TextButton\n          disabled={disabled}\n          className=\"sendbird-channel-profile__edit\"\n          onClick={() => {\n            if (disabled) { return; }\n            setShowModal(true);\n          }}\n          notUnderline\n        >\n          <Label\n            type={LabelTypography.BUTTON_1}\n            color={disabled ? LabelColors.ONBACKGROUND_2 : LabelColors.PRIMARY}\n          >\n            {stringSet.CHANNEL_SETTING__PROFILE__EDIT}\n          </Label>\n        </TextButton>\n        {\n          showModal && (\n            <EditDetailsModal\n              onCancel={() => setShowModal(false)}\n              onSubmit={onChannelInfoChange}\n              channel={channel}\n              userId={userId}\n              theme={theme}\n            />\n          )\n        }\n      </div>\n    </div>\n  );\n};\n\nChannelProfile.propTypes = {\n  channel: PropTypes.shape({\n    name: PropTypes.string,\n    members: PropTypes.arrayOf(\n      PropTypes.shape({\n        nickname: PropTypes.string,\n      }),\n    ),\n  }).isRequired,\n  userId: PropTypes.string.isRequired,\n  theme: PropTypes.string,\n  disabled: PropTypes.bool,\n  onChannelInfoChange: PropTypes.func,\n};\n\nChannelProfile.defaultProps = {\n  theme: 'light',\n  disabled: false,\n  onChannelInfoChange: () => { },\n};\n\nexport default ChannelProfile;\n","import React, {\n  ReactElement,\n  useEffect,\n  useState,\n} from 'react'\n\nimport { SendbirdTypes } from '../../../../types';\n\nimport Modal from '../../../../ui/Modal';\nimport UserListItem from '../../../../ui/UserListItem';\nimport IconButton from '../../../../ui/IconButton';\nimport Icon, { IconTypes, IconColors } from '../../../../ui/Icon';\nimport ContextMenu, { MenuItem, MenuItems } from '../../../../ui/ContextMenu';\nimport { noop } from '../../../../utils/utils';\n\ninterface Props {\n  hideModal(): void;\n  currentUser?: string;\n  channel: SendbirdTypes[\"GroupChannel\"];\n}\n\nexport default function MembersModal({\n  hideModal,\n  channel,\n  currentUser,\n}: Props): ReactElement {\n  const [members, setMembers] = useState([]);\n  const [memberQuery, setMemberQuery] = useState(null);\n\n  useEffect(() => {\n    const memberListQuery = channel.createMemberListQuery();\n    memberListQuery.limit = 20;\n    memberListQuery.next((members, error) => {\n      if (error) {\n        return;\n      }\n      setMembers(members);\n    });\n    setMemberQuery(memberListQuery);\n  }, [])\n  return (\n    <div>\n      <Modal\n        hideFooter\n        onCancel={() => hideModal()}\n        onSubmit={noop}\n        titleText=\"All Members\"\n      >\n        <div\n          className=\"sendbird-more-members__popup-scroll\"\n          onScroll={(e) => {\n            const { hasNext } = memberQuery;\n            const target = e.target as HTMLTextAreaElement;\n            const fetchMore = (\n              target.clientHeight + target.scrollTop === target.scrollHeight\n            );\n\n            if (hasNext && fetchMore) {\n              memberQuery.next((o, error) => {\n                if (error) {\n                  return;\n                }\n                setMembers([\n                  ...members,\n                  ...o,\n                ])\n              });\n            }\n          }}\n        >\n          { members.map((member) => (\n            <UserListItem\n              user={member}\n              key={member.userId}\n              currentUser={currentUser}\n              action={({ parentRef, actionRef }) => (\n                <>\n                  {channel.myRole === 'operator' && (\n                    <ContextMenu\n                      menuTrigger={(toggleDropdown) => (\n                        <IconButton\n                          className=\"sendbird-user-message__more__menu\"\n                          width=\"32px\"\n                          height=\"32px\"\n                          onClick={toggleDropdown}\n                        >\n                          <Icon\n                            width=\"24px\"\n                            height=\"24px\"\n                            type={IconTypes.MORE}\n                            fillColor={IconColors.CONTENT_INVERSE}\n                          />\n                        </IconButton>\n                      )}\n                      menuItems={(closeDropdown) => (\n                        <MenuItems\n                          parentContainRef={parentRef}\n                          parentRef={actionRef} // for catching location(x, y) of MenuItems\n                          closeDropdown={closeDropdown}\n                          openLeft\n                        >\n                          <MenuItem\n                            onClick={() => {\n                              if ((member.role !== 'operator')) {\n                                channel.addOperators([member.userId], () => {\n                                  setMembers(members.map(m => {\n                                    if(m.userId === member.userId) {\n                                      return {\n                                        ...member,\n                                        role: 'operator',\n                                      };\n                                    }\n                                    return m;\n                                  }));\n                                  closeDropdown();\n                                });\n                              } else {\n                                channel.removeOperators([member.userId], () => {\n                                  setMembers(members.map(m => {\n                                    if(m.userId === member.userId) {\n                                      return {\n                                        ...member,\n                                        role: '',\n                                      };\n                                    }\n                                    return m;\n                                  }));\n                                  closeDropdown();\n                                });\n                              }\n                            }}\n                          >\n                            { member.role !== 'operator' ? 'Promote to operator' : 'Demote operator'}\n                          </MenuItem>\n                          {\n                            // No muted members in broadcast channel\n                            !channel.isBroadcast && (\n                              <MenuItem\n                                onClick={() => {\n                                  if (member.isMuted) {\n                                    channel.unmuteUser(member, () => {\n                                      setMembers(members.map(m => {\n                                        if(m.userId === member.userId) {\n                                          return {\n                                            ...member,\n                                            isMuted: false,\n                                          };\n                                        }\n                                        return m;\n                                      }));\n                                      closeDropdown();\n                                    })\n                                  } else {\n                                    channel.muteUser(member, () => {\n                                      setMembers(members.map(m => {\n                                        if(m.userId === member.userId) {\n                                          return {\n                                            ...member,\n                                            isMuted: true,\n                                          };\n                                        }\n                                        return m;\n                                      }));\n                                      closeDropdown();\n                                    });\n                                  }\n                                }}\n                              >\n                                { member.isMuted ? 'Unmute' : 'Mute' }\n                              </MenuItem>\n                            )\n                          }\n                          <MenuItem\n                            onClick={() => {\n                              channel.banUser(member, -1, '', () => {\n                                setMembers(members.filter(({ userId }) => {\n                                  return userId !== member.userId;\n                                }));\n                              });\n                            }}\n                          >\n                            Ban\n                          </MenuItem>\n                        </MenuItems>\n                      )}\n                    />\n                  )}\n                </>\n              )}\n            />\n          ))}\n        </div>\n      </Modal>\n    </div>\n  );\n}\n","import React, { useState, useRef, useContext } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './members-accordion.scss';\n\nimport { LocalizationContext } from '../../../lib/LocalizationContext';\nimport { UserProfileContext } from '../../../lib/UserProfileContext';\nimport Button, { ButtonTypes, ButtonSizes } from '../../../ui/Button';\nimport Avatar from '../../../ui/Avatar/index';\nimport Label, { LabelTypography, LabelColors } from '../../../ui/Label';\nimport InviteMembers from '../../InviteMembers';\nimport MembersModal from './AdminPanel/MembersModal';\nimport UserProfile from '../../../ui/UserProfile';\nimport ContextMenu, { MenuItems } from '../../../ui/ContextMenu';\n\nconst SHOWN_MEMBER_MAX = 10;\n\nconst UserListItem = ({ member = {}, currentUser = '' }) => {\n  const avatarRef = useRef(null);\n  const {\n    disableUserProfile,\n    renderUserProfile,\n  } = useContext(UserProfileContext);\n  const { stringSet } = useContext(LocalizationContext);\n  return (\n    <div className=\"sendbird-members-accordion__member\">\n      <div className=\"sendbird-members-accordion__member-avatar\">\n        <ContextMenu\n          menuTrigger={(toggleDropdown) => (\n            <Avatar\n              onClick={() => {\n                if (!disableUserProfile) {\n                  toggleDropdown();\n                }\n              }}\n              ref={avatarRef}\n              src={member.profileUrl}\n              width={24}\n              height={24}\n            />\n          )}\n          menuItems={(closeDropdown) => (\n            <MenuItems\n              openLeft\n              parentRef={avatarRef}\n              // for catching location(x, y) of MenuItems\n              parentContainRef={avatarRef}\n              // for toggling more options(menus & reactions)\n              closeDropdown={closeDropdown}\n              style={{ paddingTop: 0, paddingBottom: 0 }}\n            >\n              {\n                renderUserProfile\n                  ? renderUserProfile({\n                    user: member,\n                    currentUserId: currentUser,\n                    close: closeDropdown,\n                  })\n                  : (\n                    <UserProfile\n                      user={member}\n                      currentUserId={currentUser}\n                      onSuccess={closeDropdown}\n                    />\n                  )\n              }\n            </MenuItems>\n          )}\n        />\n      </div>\n      <Label type={LabelTypography.SUBTITLE_2} color={LabelColors.ONBACKGROUND_1}>\n        {member.nickname || stringSet.NO_NAME}\n        {\n          (currentUser === member.userId) && (\n            stringSet.CHANNEL_SETTING__MEMBERS__YOU\n          )\n        }\n      </Label>\n    </div>\n  );\n};\n\nUserListItem.propTypes = {\n  member: PropTypes.shape({\n    userId: PropTypes.string,\n    profileUrl: PropTypes.string,\n    nickname: PropTypes.string,\n  }).isRequired,\n  currentUser: PropTypes.string.isRequired,\n};\n\nconst MembersAccordion = ({\n  channel,\n  disabled,\n  currentUser,\n  userQueryCreator,\n  onInviteMembers,\n  swapParams,\n}) => {\n  const members = channel.members || [];\n  const [showMoreModal, setShowMoreModal] = useState(false);\n  const [showAddUserModal, setShowAddUserModal] = useState(false);\n  const { stringSet } = useContext(LocalizationContext);\n  return (\n    <div className=\"sendbird-members-accordion\">\n      <div className=\"sendbird-members-accordion__list\">\n        {\n          members.slice(0, SHOWN_MEMBER_MAX).map((member) => (\n            <UserListItem\n              member={member}\n              currentUser={currentUser}\n              key={member.userId}\n            />\n          ))\n        }\n      </div>\n      <div className=\"sendbird-members-accordion__footer\">\n        {\n          members.length >= SHOWN_MEMBER_MAX && (\n            <Button\n              className=\"sendbird-members-accordion__footer__all-members\"\n              type={ButtonTypes.SECONDARY}\n              size={ButtonSizes.SMALL}\n              onClick={() => setShowMoreModal(true)}\n            >\n              {stringSet.CHANNEL_SETTING__MEMBERS__SEE_ALL_MEMBERS}\n            </Button>\n          )\n        }\n        {\n          members.length >= SHOWN_MEMBER_MAX && showMoreModal && (\n            <MembersModal\n              currentUser={currentUser}\n              hideModal={() => {\n                setShowMoreModal(false);\n              }}\n              channel={channel}\n            />\n          )\n        }\n        <Button\n          className=\"sendbird-members-accordion__footer__invite-users\"\n          type={ButtonTypes.SECONDARY}\n          size={ButtonSizes.SMALL}\n          disabled={disabled}\n          onClick={() => {\n            if (disabled) { return; }\n            setShowAddUserModal(true);\n          }}\n        >\n          {stringSet.CHANNEL_SETTING__MEMBERS__INVITE_MEMBER}\n        </Button>\n        {\n          showAddUserModal && (\n            <InviteMembers\n              swapParams={swapParams}\n              titleText={stringSet.MODAL__INVITE_MEMBER__TITLE}\n              submitText={stringSet.BUTTON__INVITE}\n              closeModal={() => setShowAddUserModal(false)}\n              idsToFilter={members.map((member) => (member.userId))}\n              userQueryCreator={userQueryCreator}\n              onSubmit={onInviteMembers}\n            />\n          )\n        }\n      </div>\n    </div>\n  );\n};\n\nMembersAccordion.propTypes = {\n  swapParams: PropTypes.bool,\n  disabled: PropTypes.bool,\n  channel: PropTypes.shape({\n    members: PropTypes.arrayOf(PropTypes.shape({})),\n  }),\n  currentUser: PropTypes.string,\n  userQueryCreator: PropTypes.func.isRequired,\n  onInviteMembers: PropTypes.func.isRequired,\n};\n\nMembersAccordion.defaultProps = {\n  swapParams: false,\n  currentUser: '',\n  disabled: false,\n  channel: {},\n};\n\nexport default MembersAccordion;\n","// might move to reusable/UI\n\nimport React, { ReactElement, useRef, useContext } from 'react';\n\nimport { LocalizationContext } from '../../../lib/LocalizationContext';\nimport { UserProfileContext } from '../../../lib/UserProfileContext';\nimport Avatar from '../../../ui/Avatar/index';\nimport MutedAvatarOverlay from '../../../ui/Avatar/MutedAvatarOverlay';\nimport Label, { LabelTypography, LabelColors } from '../../../ui/Label';\nimport UserProfile from '../../../ui/UserProfile';\nimport ContextMenu, { MenuItems } from '../../../ui/ContextMenu';\n\nimport './user-list-item.scss';\nimport { SendbirdTypes } from '../../../types';\n\nconst COMPONENT_NAME = 'sendbird-user-list-item--small';\n\ninterface ActionProps {\n  actionRef: React.RefObject<HTMLInputElement>;\n  parentRef: React.RefObject<HTMLInputElement>;\n}\n\ntype CustomUser = SendbirdTypes['User'] & {\n  isMuted: boolean;\n  role: string;\n};\n\ninterface Props {\n  user: CustomUser;\n  currentUser?: string;\n  className?: string;\n  action?(props: ActionProps): ReactElement;\n}\n\nconst UserListItem = ({\n  user,\n  className,\n  currentUser,\n  action,\n}: Props): ReactElement => {\n  const actionRef = useRef(null);\n  const parentRef = useRef(null);\n  const avatarRef = useRef(null);\n  const { stringSet } = useContext(LocalizationContext);\n  const {\n    disableUserProfile,\n    renderUserProfile,\n  } = useContext(UserProfileContext);\n  const injectingClassNames = Array.isArray(className) ? className : [className];\n  return (\n    <div\n      ref={parentRef}\n      className={[\n        COMPONENT_NAME, ...injectingClassNames,\n      ].join(' ')}\n    >\n      {\n        user.isMuted && (\n          <MutedAvatarOverlay />\n        )\n      }\n      <ContextMenu\n        menuTrigger={(toggleDropdown) => (\n          <Avatar\n            onClick={() => {\n              if (!disableUserProfile) {\n                toggleDropdown();\n              }\n            }}\n            ref={avatarRef}\n            className={`${COMPONENT_NAME}__avatar`}\n            src={user.profileUrl}\n            width={24}\n            height={24}\n          />\n        )}\n        menuItems={(closeDropdown) => (\n          <MenuItems\n            openLeft\n            parentRef={avatarRef}\n            // for catching location(x, y) of MenuItems\n            parentContainRef={avatarRef}\n            // for toggling more options(menus & reactions)\n            closeDropdown={closeDropdown}\n            style={{ paddingTop: 0, paddingBottom: 0 }}\n          >\n            {\n              renderUserProfile\n                ? renderUserProfile({\n                  user,\n                  currentUserId: currentUser,\n                  close: closeDropdown,\n                })\n                : (\n                  <UserProfile\n                    user={user}\n                    currentUserId={currentUser}\n                    onSuccess={closeDropdown}\n                  />\n                )\n            }\n          </MenuItems>\n        )}\n      />\n      <Label\n        className={`${COMPONENT_NAME}__title`}\n        type={LabelTypography.SUBTITLE_1}\n        color={LabelColors.ONBACKGROUND_1}\n      >\n        {user.nickname || stringSet.NO_NAME}\n        {\n          (currentUser === user.userId) && (\n            \" (You)\"\n          )\n        }\n      </Label>\n      { // if there is now nickname, display userId\n        !user.nickname && (\n          <Label\n            className={`${COMPONENT_NAME}__subtitle`}\n            type={LabelTypography.CAPTION_3}\n            color={LabelColors.ONBACKGROUND_2}\n          >\n            {user.userId}\n          </Label>\n        )\n      }\n      {\n        user.role === 'operator' && (\n          <Label\n            className={`${COMPONENT_NAME}__operator`}\n            type={LabelTypography.SUBTITLE_2}\n            color={LabelColors.ONBACKGROUND_2}\n          >\n            Operator\n          </Label>\n        )\n      }\n      {\n        action && (\n          <div ref={actionRef} className={`${COMPONENT_NAME}__action`}>\n            { action({ actionRef, parentRef }) }\n          </div>\n        )\n      }\n    </div>\n  );\n}\n\nexport default UserListItem;\n","import React, {\n  ReactElement,\n  useEffect,\n  useState,\n} from 'react'\n\n\nimport { SendbirdTypes } from '../../../../types';\n\nimport Modal from '../../../../ui/Modal';\nimport UserListItem from '../../../../ui/UserListItem';\nimport IconButton from '../../../../ui/IconButton';\nimport Icon, { IconTypes, IconColors } from '../../../../ui/Icon';\nimport ContextMenu, { MenuItem, MenuItems } from '../../../../ui/ContextMenu';\nimport { noop } from '../../../../utils/utils';\n\ninterface Props {\n  hideModal(): void;\n  channel: SendbirdTypes[\"GroupChannel\"];\n  currentUser?: string;\n}\n\nexport default function OperatorsModal({\n  hideModal,\n  channel,\n  currentUser,\n}: Props): ReactElement {\n  const [operators, setOperators] = useState([]);\n  const [operatorQuery, setOperatorQuery] = useState(null);\n\n  useEffect(() => {\n    const operatorListQuery = channel.createOperatorListQuery();\n    operatorListQuery.limit = 20;\n    operatorListQuery.next((operators, error) => {\n      if (error) {\n        return;\n      }\n      setOperators(operators);\n    });\n    setOperatorQuery(operatorListQuery);\n  }, [])\n  return (\n    <div>\n      <Modal\n        hideFooter\n        onCancel={() => hideModal()}\n        onSubmit={noop}\n        titleText=\"All operators\"\n      >\n        <div\n          className=\"sendbird-more-members__popup-scroll\"\n          onScroll={(e) => {\n            const { hasNext } = operatorQuery;\n            const target = e.target as HTMLTextAreaElement;\n            const fetchMore = (\n              target.clientHeight + target.scrollTop === target.scrollHeight\n            );\n\n            if (hasNext && fetchMore) {\n              operatorQuery.next((o, error) => {\n                if (error) {\n                  return;\n                }\n                setOperators([\n                  ...operators,\n                  ...o,\n                ])\n              });\n            }\n          }}\n        >\n          { operators.map((member) => (\n            <UserListItem\n              currentUser={currentUser}\n              user={member}\n              key={member.userId}\n              action={({ parentRef, actionRef }) => (\n                <ContextMenu\n                  menuTrigger={(toggleDropdown) => (\n                    <IconButton\n                      className=\"sendbird-user-message__more__menu\"\n                      width=\"32px\"\n                      height=\"32px\"\n                      onClick={toggleDropdown}\n                    >\n                      <Icon\n                        width=\"24px\"\n                        height=\"24px\"\n                        type={IconTypes.MORE}\n                        fillColor={IconColors.CONTENT_INVERSE}\n                      />\n                    </IconButton>\n                  )}\n                  menuItems={(closeDropdown) => (\n                    <MenuItems\n                      parentContainRef={parentRef}\n                      parentRef={actionRef} // for catching location(x, y) of MenuItems\n                      closeDropdown={closeDropdown}\n                      openLeft\n                    >\n                      <MenuItem\n                        onClick={() => {\n                          channel.removeOperators([member.userId], (response, error) => {\n                            if (error) {\n                              return;\n                            }\n                            setOperators(operators.filter(({ userId }) => {\n                              return userId !== member.userId;\n                            }));\n                          });\n                          closeDropdown();\n                        }}\n                      >\n                        Dismiss operator\n                      </MenuItem>\n                    </MenuItems>\n                  )}\n                />\n              )}\n            />\n          ))}\n        </div>\n      </Modal>\n    </div>\n  )\n}\n","import React, {\n  ReactElement,\n  useEffect,\n  useState,\n  useContext,\n} from 'react'\n\n\nimport { SendbirdTypes } from '../../../../types';\n\nimport { LocalizationContext } from '../../../../lib/LocalizationContext';\nimport Modal from '../../../../ui/Modal';\nimport Label, {\n  LabelTypography,\n  LabelColors,\n} from '../../../../ui/Label';\nimport { Type as ButtonType } from '../../../../ui/Button/type';\nimport UserListItem from '../../../../ui/UserListItem';\n\ninterface Props {\n  hideModal(): void;\n  onSubmit(members: Array<string>): void;\n  channel: SendbirdTypes[\"GroupChannel\"];\n}\n\nexport default function AddOperatorsModal({\n  hideModal,\n  channel,\n  onSubmit,\n}: Props): ReactElement {\n  const [members, setMembers] = useState([]);\n  const [selectedMembers, setSelectedMembers] = useState({});\n  const [memberQuery, setMemberQuery] = useState(null);\n  const { stringSet } = useContext(LocalizationContext);\n\n  useEffect(() => {\n    const memberListQuery = channel.createMemberListQuery();\n    memberListQuery.limit = 20;\n    memberListQuery.next((members, error) => {\n      if (error) {\n        return;\n      }\n      setMembers(members);\n    });\n    setMemberQuery(memberListQuery);\n  }, [])\n\n  const selectedCount = Object.keys(selectedMembers).filter((m) => selectedMembers[m]).length;\n  return (\n    <div>\n      <Modal\n        type={ButtonType.PRIMARY}\n        submitText=\"Add\"\n        onCancel={() => hideModal()}\n        onSubmit={() => {\n          const members = Object.keys(selectedMembers).filter((m) => selectedMembers[m]);\n          onSubmit(members);\n        }}\n        titleText=\"Select members\"\n      >\n        <Label\n          color={(selectedCount > 0) ? LabelColors.PRIMARY : LabelColors.ONBACKGROUND_3}\n          type={LabelTypography.CAPTION_1}\n        >\n          {`${selectedCount} ${stringSet.MODAL__INVITE_MEMBER__SELECTEC}`}\n        </Label>\n        <div\n          className=\"sendbird-more-members__popup-scroll\"\n          onScroll={(e) => {\n            const { hasNext } = memberQuery;\n            const target = e.target as HTMLTextAreaElement;\n            const fetchMore = (\n              target.clientHeight + target.scrollTop === target.scrollHeight\n            );\n\n            if (hasNext && fetchMore) {\n              memberQuery.next((o, error) => {\n                if (error) {\n                  return;\n                }\n                setMembers([\n                  ...members,\n                  ...o,\n                ])\n              });\n            }\n          }}\n        >\n          { members.map((member) => (\n            <UserListItem\n              checkBox\n              checked={selectedMembers[member.userId]}\n              onChange={\n                (event) => {\n                  const modifiedSelectedMembers = {\n                    ...selectedMembers,\n                    [event.target.id]: event.target.checked,\n                  };\n                  if (!event.target.checked) {\n                    delete modifiedSelectedMembers[event.target.id];\n                  }\n                  setSelectedMembers(modifiedSelectedMembers);\n                }\n              }\n              user={member}\n              key={member.userId}\n            />\n          ))}\n        </div>\n      </Modal>\n    </div>\n  );\n}\n","import React, {\n  ReactElement,\n  useEffect,\n  useState,\n  useCallback,\n  useContext,\n} from 'react';\n\nimport { SendbirdTypes } from '../../../../types';\n\nimport withSendbirdContext from '../../../../lib/SendbirdSdkContext';\nimport { LocalizationContext } from '../../../../lib/LocalizationContext';\nimport { getSdk } from '../../../../lib/selectors';\nimport Button, { ButtonTypes, ButtonSizes } from '../../../../ui/Button';\nimport IconButton from '../../../../ui/IconButton';\nimport Icon, { IconTypes, IconColors } from '../../../../ui/Icon';\nimport ContextMenu, { MenuItem, MenuItems } from '../../../../ui/ContextMenu';\n\nimport UserListItem from '../UserListItem';\nimport OperatorsModal from './OperatorsModal';\nimport AddOperatorsModal from './AddOperatorsModal';\n\ninterface Props {\n  sdk: SendbirdTypes[\"SendBirdInstance\"];\n  channel: SendbirdTypes[\"GroupChannel\"];\n}\n\nexport const OperatorList = ({ sdk, channel }: Props): ReactElement => {\n  const [operators, setOperators] = useState([]);\n  const [showMore, setShowMore] = useState(false);\n  const [showAdd, setShowAdd] = useState(false);\n  const [hasNext, setHasNext] = useState(false);\n  const { stringSet } = useContext(LocalizationContext);\n\n  useEffect(() => {\n    if (!channel) {\n      setOperators([]);\n      return;\n    }\n\n    const operatorListQuery = channel.createOperatorListQuery();\n    operatorListQuery.limit = 10;\n    operatorListQuery.next((operators, error) => {\n      if (error) {\n        return;\n      }\n      setOperators(operators);\n      setHasNext(operatorListQuery.hasNext);\n    });\n  }, [channel]);\n\n  const refershList = useCallback(\n    () => {\n      if (!channel) {\n        setOperators([]);\n        return;\n      }\n      const operatorListQuery = channel.createOperatorListQuery();\n      operatorListQuery.limit = 10;\n      operatorListQuery.next((operators, error) => {\n        if (error) {\n          return;\n        }\n        setOperators(operators);\n        setHasNext(operatorListQuery.hasNext);\n      });\n    },\n    [channel],\n  );\n\n  return (\n    <>\n      {\n        operators.map((operator) => (\n          <UserListItem\n            key={operator.userId}\n            user={operator}\n            currentUser={sdk.currentUser.userId}\n            action={({ actionRef, parentRef }) => {\n              return (\n                <ContextMenu\n                  menuTrigger={(toggleDropdown) => (\n                    <IconButton\n                      className=\"sendbird-user-message__more__menu\"\n                      width=\"32px\"\n                      height=\"32px\"\n                      onClick={toggleDropdown}\n                    >\n                      <Icon\n                        width=\"24px\"\n                        height=\"24px\"\n                        type={IconTypes.MORE}\n                        fillColor={IconColors.CONTENT_INVERSE}\n                      />\n                    </IconButton>\n                  )}\n                  menuItems={(closeDropdown) => (\n                    <MenuItems\n                      parentContainRef={parentRef}\n                      parentRef={actionRef} // for catching location(x, y) of MenuItems\n                      closeDropdown={closeDropdown}\n                      openLeft\n                    >\n                      <MenuItem\n                        onClick={() => {\n                          channel.removeOperators([operator.userId], (response, error) => {\n                            if (error) {\n                              return;\n                            }\n                            setOperators(operators.filter(({ userId }) => {\n                              return userId !== operator.userId;\n                            }))\n                          });\n                          closeDropdown();\n                        }}\n                      >\n                        Dismiss operator\n                      </MenuItem>\n                    </MenuItems>\n                  )}\n                />\n              );\n            }}\n          />\n        ))\n      }\n      {\n        hasNext && (\n          <div\n            className=\"sendbird-channel-settings-accordion__footer\"\n          >\n            <Button\n              type={ButtonTypes.SECONDARY}\n              size={ButtonSizes.SMALL}\n              onClick={() => {\n                setShowMore(true);\n              }}\n            >\n              {stringSet.CHANNEL_SETTING__OPERATORS__TITLE_ALL}\n            </Button>\n            <Button\n              type={ButtonTypes.SECONDARY}\n              size={ButtonSizes.SMALL}\n              onClick={() => {\n                setShowAdd(true);\n              }}\n            >\n              {stringSet.CHANNEL_SETTING__OPERATORS__TITLE_ADD}\n            </Button>\n          </div>\n        )\n      }\n      {\n        showMore && (\n          <OperatorsModal\n            currentUser={sdk.currentUser.userId}\n            hideModal={() => {\n              setShowMore(false);\n              refershList();\n            }}\n            channel={channel}\n          />\n        )\n      }\n      {\n        showAdd && (\n          <AddOperatorsModal\n            hideModal={() => setShowAdd(false)}\n            channel={channel}\n            onSubmit={(members) => {\n              setShowAdd(false);\n              channel.addOperators(members, () => {\n                refershList();\n              });\n            }}\n          />\n        )\n      }\n    </>\n  );\n}\n\nconst mapStoreToProps = (store) => ({\n  sdk: getSdk(store),\n});\n\nexport default withSendbirdContext(OperatorList, mapStoreToProps);\n","import React, { ReactElement, useEffect, useState } from 'react'\n\n\nimport { SendbirdTypes } from '../../../../types';\n\nimport Modal from '../../../../ui/Modal';\nimport { Type as ButtonType } from '../../../../ui/Button/type';\nimport UserListItem from '../../../../ui/UserListItem';\n\ninterface Props {\n  hideModal(): void;\n  onSubmit(members: Array<string>): void;\n  channel: SendbirdTypes['GroupChannel'];\n  userQueryCreator(): SendbirdTypes['UserListQuery'];\n}\n\nexport default function InviteMembers({\n  hideModal,\n  userQueryCreator,\n  onSubmit,\n}: Props): ReactElement {\n  const [members, setMembers] = useState([]);\n  const [selectedMembers, setSelectedMembers] = useState({});\n  const [userQuery, setUserQuery] = useState(null);\n\n  useEffect(() => {\n    const userListQuery = userQueryCreator();\n    userListQuery.limit = 20;\n    userListQuery.next((members, error) => {\n      if (error) {\n        return;\n      }\n      setMembers(members);\n    });\n    setUserQuery(userListQuery);\n  }, [])\n  return (\n    <div>\n      <Modal\n        disabled={Object.keys(selectedMembers).length === 0}\n        submitText=\"Invite\"\n        type={ButtonType.PRIMARY}\n        onCancel={() => hideModal()}\n        onSubmit={() => {\n          const members = Object.keys(selectedMembers).filter((m) => selectedMembers[m]);\n          onSubmit(members);\n        }}\n        titleText=\"Select members\"\n      >\n        <div\n          className=\"sendbird-more-members__popup-scroll\"\n          onScroll={(e) => {\n            const { hasNext } = userQuery;\n            const target = e.target as HTMLTextAreaElement;\n            const fetchMore = (\n              target.clientHeight + target.scrollTop === target.scrollHeight\n            );\n\n            if (hasNext && fetchMore) {\n              userQuery.next((o, error) => {\n                if (error) {\n                  return;\n                }\n                setMembers([\n                  ...members,\n                  ...o,\n                ])\n              });\n            }\n          }}\n        >\n          { members.map((member) => (\n            <UserListItem\n              checkBox\n              checked={selectedMembers[member.userId]}\n              onChange={\n                (event) => {\n                  const modifiedSelectedMembers = {\n                    ...selectedMembers,\n                    [event.target.id]: event.target.checked,\n                  };\n                  if (!event.target.checked) {\n                    delete modifiedSelectedMembers[event.target.id];\n                  }\n                  setSelectedMembers(modifiedSelectedMembers);\n                }\n              }\n              user={member}\n              key={member.userId}\n            />\n          ))}\n        </div>\n      </Modal>\n    </div>\n  );\n}\n","import React, {\n  ReactElement,\n  useEffect,\n  useState,\n  useCallback,\n} from 'react';\n\nimport { SendbirdTypes } from '../../../../types';\n\nimport withSendbirdContext from '../../../../lib/SendbirdSdkContext';\nimport { getSdk } from '../../../../lib/selectors';\nimport Button, { ButtonTypes, ButtonSizes } from '../../../../ui/Button';\nimport IconButton from '../../../../ui/IconButton';\nimport Icon, { IconTypes, IconColors } from '../../../../ui/Icon';\nimport ContextMenu, { MenuItem, MenuItems } from '../../../../ui/ContextMenu';\n\nimport UserListItem from '../UserListItem';\nimport MembersModal from './MembersModal';\nimport InviteMembers from './InviteMembersModal';\n\ninterface Props {\n  sdk: SendbirdTypes['SendBirdInstance'];\n  channel: SendbirdTypes['GroupChannel'];\n  userQueryCreator(): SendbirdTypes['UserListQuery'];\n  userId: string;\n}\n\nexport const MemberList = ({\n  sdk,\n  channel,\n  userQueryCreator,\n  userId,\n}: Props): ReactElement => {\n  const [members, setMembers] = useState([]);\n  const [hasNext, setHasNext] = useState(false);\n  const [showAllMembers, setShowAllMembers] = useState(false);\n  const [showInviteMembers, setShowInviteMembers] = useState(false);\n\n  useEffect(() => {\n    if (!channel) {\n      setMembers([]);\n      return;\n    }\n\n    const memberUserListQuery = channel.createMemberListQuery();\n    memberUserListQuery.limit = 10;\n    memberUserListQuery.next((members, error) => {\n      if (error) {\n        return;\n      }\n      setMembers(members);\n      setHasNext(memberUserListQuery.hasNext);\n    });\n  }, [channel]);\n\n  const refershList = useCallback(\n    () => {\n      if (!channel) {\n        setMembers([]);\n        return;\n      }\n      const memberUserListQuery = channel.createMemberListQuery();\n      memberUserListQuery.limit = 10;\n      memberUserListQuery.next((members, error) => {\n        if (error) {\n          return;\n        }\n        setMembers(members);\n        setHasNext(memberUserListQuery.hasNext);\n      });\n    },\n    [channel],\n  );\n\n  return (\n    <>\n      {\n        members.map((member) => (\n          <UserListItem\n            key={member.userId}\n            user={member}\n            currentUser={sdk.currentUser.userId}\n            action={\n              (userId !== member.userId)\n                ? ({ actionRef, parentRef }) => (\n                  <ContextMenu\n                    menuTrigger={(toggleDropdown) => (\n                      <IconButton\n                        className=\"sendbird-user-message__more__menu\"\n                        width=\"32px\"\n                        height=\"32px\"\n                        onClick={toggleDropdown}\n                      >\n                        <Icon\n                          width=\"24px\"\n                          height=\"24px\"\n                          type={IconTypes.MORE}\n                          fillColor={IconColors.CONTENT_INVERSE}\n                        />\n                      </IconButton>\n                    )}\n                    menuItems={(closeDropdown) => (\n                      <MenuItems\n                        parentContainRef={parentRef}\n                        parentRef={actionRef} // for catching location(x, y) of MenuItems\n                        closeDropdown={closeDropdown}\n                        openLeft\n                      >\n                        <MenuItem\n                          onClick={() => {\n                            if ((member.role !== 'operator')) {\n                              channel.addOperators([member.userId], () => {\n                                refershList();\n                                closeDropdown();\n                              });\n                            } else {\n                              channel.removeOperators([member.userId], () => {\n                                refershList();\n                                closeDropdown();\n                              });\n                            }\n                          }}\n                        >\n                          {member.role !== 'operator' ? 'Promote to operator' : 'Demote operator'}\n                        </MenuItem>\n                        {\n                          // No muted members in broadcast channel\n                          !channel.isBroadcast && (\n                            <MenuItem\n                              onClick={() => {\n                                if (member.isMuted) {\n                                  channel.unmuteUser(member, () => {\n                                    refershList();\n                                    closeDropdown();\n                                  })\n                                } else {\n                                  channel.muteUser(member, () => {\n                                    refershList();\n                                    closeDropdown();\n                                  });\n                                }\n                              }}\n                            >\n                              { member.isMuted ? 'Unmute' : 'Mute'}\n                            </MenuItem>\n                          )\n                        }\n                        <MenuItem\n                          onClick={() => {\n                            channel.banUser(member, -1, '', () => {\n                              refershList();\n                              closeDropdown();\n                            });\n                          }}\n                        >\n                          Ban\n                    </MenuItem>\n                      </MenuItems>\n                    )}\n                  />\n                )\n                : null\n            }\n          />\n        ))\n      }\n      <div\n        className=\"sendbird-channel-settings-accordion__footer\"\n      >\n        {\n          hasNext && (\n            <Button\n              type={ButtonTypes.SECONDARY}\n              size={ButtonSizes.SMALL}\n              onClick={() => setShowAllMembers(true)}\n            >\n              All members\n            </Button>\n          )\n        }\n        <Button\n          type={ButtonTypes.SECONDARY}\n          size={ButtonSizes.SMALL}\n          onClick={() => setShowInviteMembers(true)}\n        >\n          Invite members\n        </Button>\n      </div>\n      {\n        showAllMembers && (\n          <MembersModal\n            currentUser={sdk.currentUser.userId}\n            channel={channel}\n            hideModal={() => {\n              setShowAllMembers(false);\n              refershList();\n            }}\n          />\n        )\n      }\n      {\n        showInviteMembers && (\n          <InviteMembers\n            userQueryCreator={userQueryCreator}\n            onSubmit={(selectedMembers: Array<string>) => {\n              channel.inviteWithUserIds(selectedMembers, () => {\n                setShowInviteMembers(false);\n                refershList();\n              });\n            }}\n            channel={channel}\n            hideModal={() => setShowInviteMembers(false)}\n          />\n        )\n      }\n    </>\n  );\n}\n\nconst mapStoreToProps = (store) => ({\n  sdk: getSdk(store),\n});\n\nexport default withSendbirdContext(MemberList, mapStoreToProps);\n","import React, {\n  ReactElement,\n  useEffect,\n  useState,\n} from 'react'\n\nimport { SendbirdTypes } from '../../../../types';\n\nimport Modal from '../../../../ui/Modal';\nimport UserListItem from '../../../../ui/UserListItem';\nimport IconButton from '../../../../ui/IconButton';\nimport Icon, { IconTypes, IconColors } from '../../../../ui/Icon';\nimport ContextMenu, { MenuItem, MenuItems } from '../../../../ui/ContextMenu';\n\nimport { noop } from '../../../../utils/utils';\n\ninterface Props {\n  hideModal(): void;\n  channel: SendbirdTypes[\"GroupChannel\"];\n}\n\nexport default function BannedMembersModal({\n  hideModal,\n  channel,\n}: Props): ReactElement {\n  const [members, setMembers] = useState([]);\n  const [memberQuery, setMemberQuery] = useState(null);\n\n  useEffect(() => {\n    const bannedUserListQuery = channel.createBannedUserListQuery();\n    bannedUserListQuery.next((users, error) => {\n      if (error) {\n        return;\n      }\n      setMembers(users);\n    });\n    setMemberQuery(bannedUserListQuery);\n  }, []);\n  return (\n    <div>\n      <Modal\n        hideFooter\n        onCancel={() => hideModal()}\n        onSubmit={noop}\n        titleText=\"Muted members\"\n      >\n        <div\n          className=\"sendbird-more-members__popup-scroll\"\n          onScroll={(e) => {\n            const { hasNext } = memberQuery;\n            const target = e.target as HTMLTextAreaElement;\n            const fetchMore = (\n              target.clientHeight + target.scrollTop === target.scrollHeight\n            );\n\n            if (hasNext && fetchMore) {\n              memberQuery.next((o, error) => {\n                if (error) {\n                  return;\n                }\n                setMembers([\n                  ...members,\n                  ...o,\n                ])\n              });\n            }\n          }}\n        >\n          { members.map((member) => (\n            <UserListItem\n              user={member}\n              key={member.userId}\n              action={({ parentRef, actionRef }) => (\n                <ContextMenu\n                  menuTrigger={(toggleDropdown) => (\n                    <IconButton\n                      className=\"sendbird-user-message__more__menu\"\n                      width=\"32px\"\n                      height=\"32px\"\n                      onClick={toggleDropdown}\n                    >\n                      <Icon\n                        width=\"24px\"\n                        height=\"24px\"\n                        type={IconTypes.MORE}\n                        fillColor={IconColors.CONTENT_INVERSE}\n                      />\n                    </IconButton>\n                  )}\n                  menuItems={(closeDropdown) => (\n                    <MenuItems\n                      parentContainRef={parentRef}\n                      parentRef={actionRef} // for catching location(x, y) of MenuItems\n                      closeDropdown={closeDropdown}\n                      openLeft\n                    >\n                      <MenuItem\n                        onClick={() => {\n                          channel.unbanUser(member, () => {\n                            closeDropdown();\n                            setMembers(members.filter(m => {\n                              return (m.userId !== member.userId);\n                            }));\n                          })\n                        }}\n                      >\n                        Unban\n                      </MenuItem>\n                    </MenuItems>\n                  )}\n                />\n              )\n              }\n            />\n          ))}\n        </div>\n      </Modal>\n    </div>\n  );\n}\n","import React, {\n  ReactElement,\n  useEffect,\n  useState,\n  useCallback,\n} from 'react';\n\nimport { SendbirdTypes } from '../../../../types';\n\nimport withSendbirdContext from '../../../../lib/SendbirdSdkContext';\nimport { getSdk } from '../../../../lib/selectors';\nimport Button, { ButtonTypes, ButtonSizes } from '../../../../ui/Button';\nimport\n  Label, {\n  LabelTypography,\n  LabelColors,\n} from '../../../../ui/Label';\nimport IconButton from '../../../../ui/IconButton';\nimport Icon, { IconTypes, IconColors } from '../../../../ui/Icon';\nimport ContextMenu, { MenuItem, MenuItems } from '../../../../ui/ContextMenu';\n\nimport UserListItem from '../UserListItem';\nimport BannedMembersModal from './BannedMembersModal';\n\ninterface Props {\n  sdk: SendbirdTypes[\"SendBirdInstance\"];\n  channel: SendbirdTypes[\"GroupChannel\"];\n}\n\nexport const BannedMemberList = ({ channel }: Props): ReactElement => {\n  const [members, setMembers] = useState([]);\n  const [hasNext, setHasNext] = useState(false);\n  const [showModal, setShowModal] = useState(false);\n\n  useEffect(() => {\n    if (!channel) {\n      setMembers([]);\n      return;\n    }\n\n    const bannedUserListQuery = channel.createBannedUserListQuery();\n    bannedUserListQuery.next((users, error) => {\n      if (error) {\n        return;\n      }\n      setMembers(users);\n      setHasNext(bannedUserListQuery.hasNext);\n    });\n  }, [channel]);\n\n  const refreshList = useCallback(() => {\n    if (!channel) {\n      setMembers([]);\n      return;\n    }\n\n    const bannedUserListQuery = channel.createBannedUserListQuery();\n    bannedUserListQuery.next(function(users, error) {\n      if (error) {\n        return;\n      }\n      setMembers(users);\n      setHasNext(bannedUserListQuery.hasNext);\n    });\n  }, [channel]);\n  return (\n    <>\n      {\n        members.map((member) => (\n          <UserListItem\n            key={member.userId}\n            user={member}\n            action={({ actionRef, parentRef }) => {\n              return (\n                <ContextMenu\n                  menuTrigger={(toggleDropdown) => (\n                    <IconButton\n                      className=\"sendbird-user-message__more__menu\"\n                      width=\"32px\"\n                      height=\"32px\"\n                      onClick={toggleDropdown}\n                    >\n                      <Icon\n                        width=\"24px\"\n                        height=\"24px\"\n                        type={IconTypes.MORE}\n                        fillColor={IconColors.CONTENT_INVERSE}\n                      />\n                    </IconButton>\n                  )}\n                  menuItems={(closeDropdown) => (\n                    <MenuItems\n                      parentContainRef={parentRef}\n                      parentRef={actionRef} // for catching location(x, y) of MenuItems\n                      closeDropdown={closeDropdown}\n                      openLeft\n                    >\n                      <MenuItem\n                        onClick={() => {\n                          channel.unbanUser(member, () => {\n                            closeDropdown();\n                            refreshList();\n                          })\n                        }}\n                      >\n                        Unban\n                      </MenuItem>\n                    </MenuItems>\n                  )}\n                />\n              )\n            }}\n          />\n        ))\n      }\n      {\n        members && members.length === 0 && (\n          <Label\n            className=\"sendbird-channel-settings__empty-list\"\n            type={LabelTypography.SUBTITLE_2}\n            color={LabelColors.ONBACKGROUND_3}\n          >\n            No banned members yet\n          </Label>\n        )\n      }\n      {\n        hasNext && (\n          <div\n            className=\"sendbird-channel-settings-accordion__footer\"\n          >\n            <Button\n              type={ButtonTypes.SECONDARY}\n              size={ButtonSizes.SMALL}\n              onClick={() => {\n                setShowModal(true);\n              }}\n            >\n              All banned members\n            </Button>\n          </div>\n        )\n      }\n      {\n        showModal && (\n          <BannedMembersModal\n            channel={channel}\n            hideModal={() => {\n              setShowModal(false);\n              refreshList();\n            }}\n          />\n        )\n      }\n    </>\n  );\n}\n\nconst mapStoreToProps = (store) => ({\n  sdk: getSdk(store),\n});\n\nexport default withSendbirdContext(BannedMemberList, mapStoreToProps);\n","import React, {\n  ReactElement,\n  useEffect,\n  useState,\n} from 'react'\n\n\nimport { SendbirdTypes } from '../../../../types';\n\nimport Modal from '../../../../ui/Modal';\nimport UserListItem from '../../../../ui/UserListItem';\nimport IconButton from '../../../../ui/IconButton';\nimport Icon, { IconTypes, IconColors } from '../../../../ui/Icon';\nimport ContextMenu, { MenuItem, MenuItems } from '../../../../ui/ContextMenu';\nimport { noop } from '../../../../utils/utils';\n\ninterface Props {\n  hideModal(): void;\n  channel: SendbirdTypes[\"GroupChannel\"];\n  currentUser?: string;\n}\n\nexport default function MutedMembersModal({\n  hideModal,\n  channel,\n  currentUser,\n}: Props): ReactElement {\n  const [members, setMembers] = useState([]);\n  const [memberQuery, setMemberQuery] = useState(null);\n\n  useEffect(() => {\n    const memberUserListQuery = channel.createMemberListQuery();\n    memberUserListQuery.limit = 10;\n    memberUserListQuery.mutedMemberFilter = 'muted';\n    memberUserListQuery.next((members, error) => {\n      if (error) {\n        return;\n      }\n      setMembers(members);\n    });\n    setMemberQuery(memberUserListQuery);\n  }, []);\n  return (\n    <div>\n      <Modal\n        hideFooter\n        onCancel={() => hideModal()}\n        onSubmit={noop}\n        titleText=\"Muted members\"\n      >\n        <div\n          className=\"sendbird-more-members__popup-scroll\"\n          onScroll={(e) => {\n            const { hasNext } = memberQuery;\n            const target = e.target as HTMLTextAreaElement;\n            const fetchMore = (\n              target.clientHeight + target.scrollTop === target.scrollHeight\n            );\n\n            if (hasNext && fetchMore) {\n              memberQuery.next((o, error) => {\n                if (error) {\n                  return;\n                }\n                setMembers([\n                  ...members,\n                  ...o,\n                ])\n              });\n            }\n          }}\n        >\n          { members.map((member) => (\n            <UserListItem\n              currentUser={currentUser}\n              user={member}\n              key={member.userId}\n              action={({ actionRef, parentRef }) => (\n                <ContextMenu\n                  menuTrigger={(toggleDropdown) => (\n                    <IconButton\n                      className=\"sendbird-user-message__more__menu\"\n                      width=\"32px\"\n                      height=\"32px\"\n                      onClick={toggleDropdown}\n                    >\n                      <Icon\n                        width=\"24px\"\n                        height=\"24px\"\n                        type={IconTypes.MORE}\n                        fillColor={IconColors.CONTENT_INVERSE}\n                      />\n                    </IconButton>\n                  )}\n                  menuItems={(closeDropdown) => (\n                    <MenuItems\n                      parentContainRef={parentRef}\n                      parentRef={actionRef} // for catching location(x, y) of MenuItems\n                      closeDropdown={closeDropdown}\n                      openLeft\n                    >\n                      <MenuItem\n                        onClick={() => {\n                          channel.unmuteUser(member, () => {\n                            closeDropdown();\n                            setMembers(members.filter(m => {\n                              return (m.userId !== member.userId);\n                            }));\n                          })\n                        }}\n                      >\n                        Unmute\n                      </MenuItem>\n                    </MenuItems>\n                  )}\n                />\n              )}\n            />\n          ))}\n        </div>\n      </Modal>\n    </div>\n  );\n}\n","import React, {\n  ReactElement,\n  useEffect,\n  useState,\n  useCallback,\n} from 'react';\n\nimport { SendbirdTypes } from '../../../../types';\n\nimport withSendbirdContext from '../../../../lib/SendbirdSdkContext';\nimport { getSdk } from '../../../../lib/selectors';\nimport Button, { ButtonTypes, ButtonSizes } from '../../../../ui/Button';\nimport IconButton from '../../../../ui/IconButton';\nimport Icon, { IconTypes, IconColors } from '../../../../ui/Icon';\nimport ContextMenu, { MenuItem, MenuItems } from '../../../../ui/ContextMenu';\nimport\n  Label, {\n  LabelTypography,\n  LabelColors,\n} from '../../../../ui/Label';\nimport UserListItem from '../UserListItem';\nimport MutedMembersModal from './MutedMembersModal';\n\ninterface Props {\n  sdk: SendbirdTypes[\"SendBirdInstance\"];\n  channel: SendbirdTypes[\"GroupChannel\"];\n}\n\nexport const MutedMemberList = ({ sdk, channel }: Props): ReactElement => {\n  const [members, setMembers] = useState([]);\n  const [hasNext, setHasNext] = useState(false);\n  const [showModal, setShowModal] = useState(false);\n\n  useEffect(() => {\n    if (!channel) {\n      setMembers([]);\n      return;\n    }\n\n    const memberUserListQuery = channel.createMemberListQuery();\n    memberUserListQuery.limit = 10;\n    memberUserListQuery.mutedMemberFilter = 'muted';\n    memberUserListQuery.next((members, error) => {\n      if (error) {\n        return;\n      }\n      setMembers(members);\n      setHasNext(memberUserListQuery.hasNext);\n    });\n  }, [channel]);\n\n  const refreshList = useCallback(() => {\n    if (!channel) {\n      setMembers([]);\n      return;\n    }\n\n    const memberUserListQuery = channel.createMemberListQuery();\n    memberUserListQuery.limit = 10;\n    memberUserListQuery.mutedMemberFilter = 'muted';\n    memberUserListQuery.next((members, error) => {\n      if (error) {\n        return;\n      }\n      setMembers(members);\n      setHasNext(memberUserListQuery.hasNext);\n    });\n  }, [channel]);\n  return (\n    <>\n      {\n        members.map((member) => (\n          <UserListItem\n            key={member.userId}\n            user={member}\n            currentUser={sdk.currentUser.userId}\n            action={({ actionRef, parentRef }) => {\n              return (\n                <ContextMenu\n                  menuTrigger={(toggleDropdown) => (\n                    <IconButton\n                      className=\"sendbird-user-message__more__menu\"\n                      width=\"32px\"\n                      height=\"32px\"\n                      onClick={toggleDropdown}\n                    >\n                      <Icon\n                        width=\"24px\"\n                        height=\"24px\"\n                        type={IconTypes.MORE}\n                        fillColor={IconColors.CONTENT_INVERSE}\n                      />\n                    </IconButton>\n                  )}\n                  menuItems={(closeDropdown) => (\n                    <MenuItems\n                      closeDropdown={closeDropdown}\n                      openLeft\n                      parentContainRef={parentRef}\n                      parentRef={actionRef} // for catching location(x, y) of MenuItems\n                    >\n                      <MenuItem\n                        onClick={() => {\n                          channel.unmuteUser(member, () => {\n                            refreshList();\n                            closeDropdown();\n                          })\n                        }}\n                      >\n                        Unmute\n                      </MenuItem>\n                    </MenuItems>\n                  )}\n                />\n              );\n            }\n            }\n          />\n        ))\n      }\n      {\n        members && members.length === 0 && (\n          <Label\n            className=\"sendbird-channel-settings__empty-list\"\n            type={LabelTypography.SUBTITLE_2}\n            color={LabelColors.ONBACKGROUND_3}\n          >\n            No muted members yet\n          </Label>\n        )\n      }\n      {\n        hasNext && (\n          <div\n            className=\"sendbird-channel-settings-accordion__footer\"\n          >\n            <Button\n              type={ButtonTypes.SECONDARY}\n              size={ButtonSizes.SMALL}\n              onClick={() => {\n                setShowModal(true);\n              }}\n            >\n              All muted members\n            </Button>\n          </div>\n        )\n      }\n      {\n        showModal && (\n          <MutedMembersModal\n            currentUser={sdk.currentUser.userId}\n            channel={channel}\n            hideModal={() => {\n              setShowModal(false);\n              refreshList();\n            }}\n          />\n        )\n      }\n    </>\n  );\n}\n\nconst mapStoreToProps = (store) => ({\n  sdk: getSdk(store),\n});\n\nexport default withSendbirdContext(MutedMemberList, mapStoreToProps);\n","import './index.scss';\nimport React, {\n  ReactElement,\n  useEffect,\n  useState,\n  useContext,\n} from 'react';\nimport { SendbirdTypes } from '../../../../types';\n\nimport Accordion, { AccordionGroup } from '../../../../ui/Accordion';\nimport { LocalizationContext } from '../../../../lib/LocalizationContext';\nimport\n  Label, {\n  LabelTypography,\n  LabelColors,\n} from '../../../../ui/Label';\nimport Icon, { IconTypes, IconColors } from '../../../../ui/Icon';\nimport Badge from '../../../../ui/Badge';\n\nimport OperatorList from './OperatorList';\nimport MemberList from './MemberList';\nimport BannedMemberList from './BannedMemberList';\nimport MutedMemberList from './MutedMemberList';\n\nconst kFormatter = (num: number): string|number => {\n  return Math.abs(num) > 999\n    ? `${(Math.abs(num)/1000).toFixed(1)}K`\n    : num;\n}\n\ninterface Props {\n  channel: SendbirdTypes['GroupChannel'];\n  userQueryCreator(): SendbirdTypes['UserListQuery'];\n  userId: string;\n}\n\nexport default function AdminPannel({\n  userQueryCreator,\n  channel,\n  userId,\n}: Props): ReactElement {\n  const [frozen, setFrozen] = useState(false);\n\n  // work around for\n  // https://sendbird.slack.com/archives/G01290GCDCN/p1595922832000900\n  // SDK bug - after frozen/unfrozen myRole becomes \"none\"\n  useEffect(() => {\n    setFrozen(channel.isFrozen);\n  }, [channel]);\n  const { stringSet } = useContext(LocalizationContext);\n  return (\n    <AccordionGroup className=\"sendbird-channel-settings__operator\">\n      <Accordion\n        className=\"sendbird-channel-settings__operators-list\"\n        id=\"operators\"\n        renderTitle={() => (\n          <>\n            <Icon\n              type={IconTypes.OPERATOR}\n              fillColor={IconColors.PRIMARY}\n              width={24}\n              height={24}\n              className=\"sendbird-channel-settings__accordion-icon\"\n            />\n            <Label\n              type={LabelTypography.SUBTITLE_1}\n              color={LabelColors.ONBACKGROUND_1}\n            >\n              {stringSet.CHANNEL_SETTING__OPERATORS__TITLE}\n            </Label>\n          </>\n        )}\n        renderContent={() => (\n          <>\n            <OperatorList channel={channel} />\n          </>\n        )}\n      />\n      <Accordion\n        className=\"sendbird-channel-settings__members-list\"\n        id=\"members\"\n        renderTitle={() => (\n          <>\n            <Icon\n              type={IconTypes.MEMBERS}\n              fillColor={IconColors.PRIMARY}\n              width={24}\n              height={24}\n              className=\"sendbird-channel-settings__accordion-icon\"\n            />\n            <Label\n              type={LabelTypography.SUBTITLE_1}\n              color={LabelColors.ONBACKGROUND_1}\n            >\n              {stringSet.CHANNEL_SETTING__MEMBERS__TITLE}\n            </Label>\n            <Badge count={kFormatter(channel.memberCount)} />\n          </>\n        )}\n        renderContent={() => (\n          <>\n            <MemberList\n              userQueryCreator={userQueryCreator}\n              channel={channel}\n              userId={userId}\n            />\n          </>\n        )}\n      />\n      {\n        // No muted members in broadcast channel\n        !channel.isBroadcast && (\n          <Accordion\n            id=\"mutedMembers\"\n            className=\"sendbird-channel-settings__muted-members-list\"\n            renderTitle={() => (\n              <>\n                <Icon\n                  type={IconTypes.MUTE}\n                  fillColor={IconColors.PRIMARY}\n                  width={24}\n                  height={24}\n                  className=\"sendbird-channel-settings__accordion-icon\"\n                />\n                <Label\n                  type={LabelTypography.SUBTITLE_1}\n                  color={LabelColors.ONBACKGROUND_1}\n                >\n                  {stringSet.CHANNEL_SETTING__MUTED_MEMBERS__TITLE}\n                </Label>\n              </>\n            )}\n            renderContent={() => (\n              <>\n                <MutedMemberList channel={channel} />\n              </>\n            )}\n          />\n        )\n      }\n      <Accordion\n        className=\"sendbird-channel-settings__banned-members-list\"\n        id=\"bannedMembers\"\n        renderTitle={() => (\n          <>\n            <Icon\n              type={IconTypes.BAN}\n              fillColor={IconColors.PRIMARY}\n              width={24}\n              height={24}\n              className=\"sendbird-channel-settings__accordion-icon\"\n            />\n            <Label\n              type={LabelTypography.SUBTITLE_1}\n              color={LabelColors.ONBACKGROUND_1}\n            >\n              {stringSet.CHANNEL_SETTING__BANNED_MEMBERS__TITLE}\n            </Label>\n          </>\n        )}\n        renderContent={() => (\n          <>\n            <BannedMemberList channel={channel} />\n          </>\n        )}\n      />\n      {\n        // cannot frozen broadcast channel\n        !channel.isBroadcast && (\n          <div className=\"sendbird-channel-settings__freeze\">\n            <Icon\n              type={IconTypes.FREEZE}\n              fillColor={IconColors.PRIMARY}\n              width={24}\n              height={24}\n              className=\"sendbird-channel-settings__accordion-icon\"\n            />\n            <Label\n              type={LabelTypography.SUBTITLE_1}\n              color={LabelColors.ONBACKGROUND_1}\n            >\n              {stringSet.CHANNEL_SETTING__FREEZE_CHANNEL}\n            </Label>\n            <div className=\"sendbird-channel-settings__frozen-icon\">\n              {\n                frozen\n                  ? (\n                    <Icon\n                      onClick={() => {\n                        channel.unfreeze(() => {\n                          setFrozen(false);\n                        });\n                      }}\n                      type={IconTypes.TOGGLE_ON}\n                      fillColor={IconColors.PRIMARY}\n                      width={44}\n                      height={24}\n                    />\n                  )\n                  : (\n                    <Icon\n                      onClick={() => {\n                        channel.freeze(() => {\n                          setFrozen(true);\n                        });\n                      }}\n                      type={IconTypes.TOGGLE_OFF}\n                      fillColor={IconColors.PRIMARY}\n                      width={44}\n                      height={24}\n                    />\n                  )\n              }\n            </div>\n          </div>\n        )\n      }\n    </AccordionGroup>\n  );\n}\n","import React, { useEffect, useState, useContext } from 'react';\nimport PropTypes from 'prop-types';\n\nimport withSendbirdContext from '../../lib/SendbirdSdkContext';\nimport { UserProfileProvider } from '../../lib/UserProfileContext';\nimport { LocalizationContext } from '../../lib/LocalizationContext';\n\nimport './index.scss';\nimport Badge from '../../ui/Badge';\nimport Label, { LabelTypography, LabelColors } from '../../ui/Label';\nimport Icon, { IconTypes, IconColors } from '../../ui/Icon';\nimport IconButton from '../../ui/IconButton';\n\nimport ChannelProfile from './components/ChannelProfile';\nimport MembersAccordion from './components/MembersAccordion';\nimport LeaveChannelModal from './components/LeaveChannel';\nimport AdminPanel from './components/AdminPanel';\nimport PlaceHolder from '../../ui/PlaceHolder';\nimport PlaceHolderTypes from '../../ui/PlaceHolder/type';\nimport { uuidv4 } from '../../utils/uuid';\nimport { createDefaultUserListQuery } from '../ChannelList/components/utils';\n\nconst COMPONENT_CLASS_NAME = 'sendbird-channel-settings';\n\nconst kFormatter = (num) => (\n  Math.abs(num) > 999\n    ? `${(Math.abs(num) / 1000).toFixed(1)}K`\n    : num\n);\n\nfunction ChannelSettings(props) {\n  const {\n    className,\n    onCloseClick,\n    channelUrl,\n    disableUserProfile,\n    renderUserProfile,\n    onChannelModified,\n    renderChannelProfile,\n    onBeforeUpdateChannel,\n  } = props;\n\n  const {\n    stores: { sdkStore },\n    config: {\n      userListQuery,\n      theme,\n      userId,\n      logger,\n      isOnline,\n    },\n    queries = {},\n  } = props;\n\n  const { config = {} } = props;\n  const userDefinedDisableUserProfile = disableUserProfile || config.disableUserProfile;\n  const userDefinedRenderProfile = renderUserProfile || config.renderUserProfile;\n\n  const userFilledApplicationUserListQuery = queries.applicationUserListQuery;\n  const { stringSet } = useContext(LocalizationContext);\n\n  const { sdk, initialized } = sdkStore;\n\n  // hack to kepp track of channel updates by triggering useEffect\n  const [channelUpdateId, setChannelUpdateId] = useState(uuidv4());\n  const [channel, setChannel] = useState(null);\n  const [invalidChannel, setInvalidChannel] = useState(false);\n  const [showAccordion, setShowAccordion] = useState(false);\n  const [showLeaveChannelModal, setShowLeaveChannelModal] = useState(false);\n\n  const componentClassNames = (\n    Array.isArray(className)\n      ? [COMPONENT_CLASS_NAME, ...className]\n      : [COMPONENT_CLASS_NAME, className]\n  ).join(' ');\n\n  useEffect(() => {\n    logger.info('ChannelSettings: Setting up');\n    if (!channelUrl || !initialized || !sdk) {\n      logger.warning('ChannelSettings: Setting up failed', 'No channelUrl or sdk uninitialized');\n      setInvalidChannel(false);\n    } else {\n      if (!sdk || !sdk.GroupChannel) {\n        logger.warning('ChannelSettings: No GroupChannel');\n        return;\n      }\n      sdk.GroupChannel.getChannel(channelUrl, (groupChannel) => {\n        if (!groupChannel) {\n          logger.warning('ChannelSettings: Channel not found');\n          setInvalidChannel(true);\n        } else {\n          logger.info('ChannelSettings: Fetched group channel', groupChannel);\n          setInvalidChannel(false);\n          setChannel(groupChannel);\n        }\n      });\n    }\n  }, [channelUrl, initialized, channelUpdateId]);\n\n  if (!channel || invalidChannel) {\n    return (\n      <div className={componentClassNames}>\n        <div className=\"sendbird-channel-settings__header\">\n          <Label type={LabelTypography.H_2} color={LabelColors.ONBACKGROUND_1}>\n            {stringSet.CHANNEL_SETTING__HEADER__TITLE}\n          </Label>\n          <Icon\n            className=\"sendbird-channel-settings__close-icon\"\n            type={IconTypes.CLOSE}\n            height=\"24px\"\n            width=\"24px\"\n            onClick={() => {\n              logger.info('ChannelSettings: Click close');\n              onCloseClick();\n            }}\n          />\n        </div>\n        <div>\n          <PlaceHolder type={PlaceHolderTypes.WRONG} />\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <UserProfileProvider\n      className={componentClassNames}\n      disableUserProfile={userDefinedDisableUserProfile}\n      renderUserProfile={userDefinedRenderProfile}\n    >\n      <div className=\"sendbird-channel-settings__header\">\n        <Label type={LabelTypography.H_2} color={LabelColors.ONBACKGROUND_1}>\n          {stringSet.CHANNEL_SETTING__HEADER__TITLE}\n        </Label>\n        <div className=\"sendbird-channel-settings__header-icon\">\n          <IconButton\n            width=\"32px\"\n            height=\"32px\"\n            onClick={() => {\n              logger.info('ChannelSettings: Click close');\n              onCloseClick();\n            }}\n          >\n            <Icon\n              className=\"sendbird-channel-settings__close-icon\"\n              type={IconTypes.CLOSE}\n              height=\"22px\"\n              width=\"22px\"\n            />\n          </IconButton>\n        </div>\n      </div>\n      <div className=\"sendbird-channel-settings__scroll-area\">\n        {\n          renderChannelProfile\n            ? renderChannelProfile({ channel })\n            : (\n              <ChannelProfile\n                disabled={!isOnline}\n                channel={channel}\n                userId={userId}\n                theme={theme}\n                onChannelInfoChange={(currentImg, currentTitle) => {\n                  logger.info('ChannelSettings: Channel information being updated');\n                  const swapParams = sdk.getErrorFirstCallback();\n                  if (onBeforeUpdateChannel) {\n                    const params = onBeforeUpdateChannel(currentTitle, currentImg, channel.data);\n                    // swapParams\n                    channel.updateChannel(params, (response, error) => {\n                      let groupChannel = response;\n                      if (swapParams) {\n                        groupChannel = error;\n                      }\n\n                      onChannelModified(groupChannel);\n                      setChannelUpdateId(uuidv4());\n                    });\n                    return;\n                  }\n                  channel.updateChannel(\n                    currentTitle,\n                    currentImg,\n                    channel.data,\n                    (response, error) => {\n                      let groupChannel = response;\n                      if (swapParams) {\n                        groupChannel = error;\n                      }\n                      logger.info('ChannelSettings: Channel information updated', groupChannel);\n                      onChannelModified(groupChannel);\n                      setChannelUpdateId(uuidv4());\n                    },\n                  );\n                }}\n              />\n            )\n        }\n        {\n          channel.myRole === 'operator'\n            ? (\n              <AdminPanel\n                channel={channel}\n                userId={userId}\n                onChannelModified={(groupChannel) => {\n                  // setChannelUpdateId(uuidv4());\n                  onChannelModified(groupChannel);\n                }}\n                userQueryCreator={\n                  () => ((userListQuery && typeof userListQuery === 'function')\n                    ? userListQuery()\n                    : createDefaultUserListQuery({ sdk, userFilledApplicationUserListQuery })\n                  )\n                }\n              />\n            )\n            : (\n              <>\n                {/* Move to different file */}\n                <div\n                  className={[\n                    'sendbird-channel-settings__panel-item',\n                    'sendbird-channel-settings__members',\n                  ].join(' ')}\n                  role=\"switch\"\n                  aria-checked={showAccordion}\n                  onKeyDown={() => setShowAccordion(!showAccordion)}\n                  onClick={() => setShowAccordion(!showAccordion)}\n                  tabIndex={0}\n                >\n                  <Icon\n                    className=\"sendbird-channel-settings__panel-icon-left\"\n                    type={IconTypes.MEMBERS}\n                    fillColor={IconColors.PRIMARY}\n                    height=\"24px\"\n                    width=\"24px\"\n                  />\n                  <Label\n                    type={LabelTypography.SUBTITLE_1}\n                    color={LabelColors.ONBACKGROUND_1}\n                  >\n                    {stringSet.CHANNEL_SETTING__MEMBERS__TITLE}\n                    <Badge count={kFormatter(channel.memberCount)} />\n                  </Label>\n                  <Icon\n                    className={[\n                      'sendbird-channel-settings__panel-icon-right',\n                      'sendbird-channel-settings__panel-icon--chevron',\n                      (showAccordion ? 'sendbird-channel-settings__panel-icon--open' : ''),\n                    ].join(' ')}\n                    type={IconTypes.CHEVRON_RIGHT}\n                    height=\"24px\"\n                    width=\"24px\"\n                  />\n                </div>\n                {\n                  showAccordion && (\n                    <MembersAccordion\n                      currentUser={userId}\n                      disabled={!isOnline}\n                      // eslint-disable-next-line\n                      userQueryCreator={\n                        () => ((userListQuery && typeof userListQuery === 'function')\n                          ? userListQuery()\n                          : createDefaultUserListQuery({ sdk, userFilledApplicationUserListQuery })\n                        )\n                      }\n                      swapParams={\n                        sdk && sdk.getErrorFirstCallback && sdk.getErrorFirstCallback()\n                      }\n                      channel={channel}\n                      members={channel.members}\n                      onInviteMembers={(selectedMembers) => {\n                        logger.info('ChannelSettings: Inviting new users');\n                        channel.inviteWithUserIds(selectedMembers)\n                          .then((res) => {\n                            onChannelModified(res);\n                            setChannelUpdateId(uuidv4());\n                            logger.info('ChannelSettings: Inviting new users success!', res);\n                          });\n                      }}\n                    />\n                  )\n                }\n              </>\n            )\n        }\n\n        <div\n          className={[\n            'sendbird-channel-settings__panel-item',\n            'sendbird-channel-settings__leave-channel',\n            !isOnline ? 'sendbird-channel-settings__panel-item__disabled' : '',\n          ].join(' ')}\n          role=\"button\"\n          disabled\n          onKeyDown={() => {\n            if (!isOnline) { return; }\n            setShowLeaveChannelModal(true);\n          }}\n          onClick={() => {\n            if (!isOnline) { return; }\n            setShowLeaveChannelModal(true);\n          }}\n          tabIndex={0}\n        >\n          <Icon\n            className={[\n              'sendbird-channel-settings__panel-icon-left',\n              'sendbird-channel-settings__panel-icon__leave',\n            ].join(' ')}\n            type={IconTypes.LEAVE}\n            fillColor={IconColors.ERROR}\n            height=\"24px\"\n            width=\"24px\"\n          />\n          <Label\n            type={LabelTypography.SUBTITLE_1}\n            color={LabelColors.ONBACKGROUND_1}\n          >\n            {stringSet.CHANNEL_SETTING__LEAVE_CHANNEL__TITLE}\n          </Label>\n        </div>\n        {\n          showLeaveChannelModal && (\n            <LeaveChannelModal\n              onCloseModal={() => setShowLeaveChannelModal(false)}\n              onLeaveChannel={() => {\n                logger.info('ChannelSettings: Leaving channel', channel);\n                channel.leave()\n                  .then(() => {\n                    logger.info('ChannelSettings: Leaving channel successful!', channel);\n                    onCloseClick();\n                  });\n              }}\n            />\n          )\n        }\n      </div>\n    </UserProfileProvider>\n  );\n}\n\nChannelSettings.propTypes = {\n  className: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n  onCloseClick: PropTypes.func,\n  onChannelModified: PropTypes.func,\n  onBeforeUpdateChannel: PropTypes.func,\n  renderChannelProfile: PropTypes.oneOfType([\n    PropTypes.element,\n    PropTypes.func,\n  ]),\n  disableUserProfile: PropTypes.bool,\n  renderUserProfile: PropTypes.func,\n  channelUrl: PropTypes.string.isRequired,\n  queries: PropTypes.shape({\n    applicationUserListQuery: PropTypes.shape({\n      limit: PropTypes.number,\n      userIdsFilter: PropTypes.arrayOf(PropTypes.string),\n      metaDataKeyFilter: PropTypes.string,\n      metaDataValuesFilter: PropTypes.arrayOf(PropTypes.string),\n    }),\n  }),\n  // from withSendbirdContext\n  stores: PropTypes.shape({\n    sdkStore: PropTypes.shape({\n      sdk: PropTypes.shape({\n        getErrorFirstCallback: PropTypes.func,\n        GroupChannel: PropTypes.oneOfType([\n          PropTypes.shape({\n            getChannel: PropTypes.func,\n          }),\n          PropTypes.func,\n        ]),\n        createApplicationUserListQuery: PropTypes.any,\n      }),\n      initialized: PropTypes.bool,\n    }),\n  }).isRequired,\n  config: PropTypes.shape({\n    userId: PropTypes.string,\n    theme: PropTypes.string,\n    userListQuery: PropTypes.func,\n    isOnline: PropTypes.bool,\n    logger: PropTypes.shape({\n      info: PropTypes.func,\n      error: PropTypes.func,\n      warning: PropTypes.func,\n    }),\n  }).isRequired,\n};\n\nChannelSettings.defaultProps = {\n  className: '',\n  onBeforeUpdateChannel: null,\n  queries: {},\n  disableUserProfile: false,\n  renderUserProfile: null,\n  renderChannelProfile: null,\n  onCloseClick: () => { },\n  onChannelModified: () => { },\n};\n\nexport default withSendbirdContext(ChannelSettings);\n"]},"metadata":{},"sourceType":"module"}